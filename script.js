function _0x1056(_0x28763a,_0x24677a){const _0x371bb6=_0x371b();return _0x1056=function(_0x1056b8,_0x179ed3){_0x1056b8=_0x1056b8-0x15b;let _0x4d019e=_0x371bb6[_0x1056b8];return _0x4d019e;},_0x1056(_0x28763a,_0x24677a);}const _0x1cf51f=_0x1056;(function(_0x3c6225,_0x244526){const _0x26ae78=_0x1056,_0xc59422=_0x3c6225();while(!![]){try{const _0x930b1c=parseInt(_0x26ae78(0x1f1))/0x1*(parseInt(_0x26ae78(0x17a))/0x2)+parseInt(_0x26ae78(0x160))/0x3+-parseInt(_0x26ae78(0x1e6))/0x4*(parseInt(_0x26ae78(0x186))/0x5)+-parseInt(_0x26ae78(0x1ed))/0x6*(parseInt(_0x26ae78(0x1b9))/0x7)+-parseInt(_0x26ae78(0x1de))/0x8*(parseInt(_0x26ae78(0x15d))/0x9)+parseInt(_0x26ae78(0x163))/0xa*(-parseInt(_0x26ae78(0x192))/0xb)+parseInt(_0x26ae78(0x1db))/0xc;if(_0x930b1c===_0x244526)break;else _0xc59422['push'](_0xc59422['shift']());}catch(_0x90cd3a){_0xc59422['push'](_0xc59422['shift']());}}}(_0x371b,0x445ac),document[_0x1cf51f(0x177)](_0x1cf51f(0x1ad),function(){((async()=>{const _0x46b71c=_0x1056,_0x28481a=document[_0x46b71c(0x18e)](_0x46b71c(0x1d9)),_0x498822=document[_0x46b71c(0x18e)](_0x46b71c(0x1a2)),_0x181c28=document['getElementById']('importCharacterButton'),_0x53850c=document['getElementById'](_0x46b71c(0x1e1)),_0x29211f=document[_0x46b71c(0x18e)](_0x46b71c(0x1d8)),_0x3d7db2=document[_0x46b71c(0x18e)](_0x46b71c(0x1ae)),_0x1b83a2=document[_0x46b71c(0x18e)](_0x46b71c(0x179)),_0x1b4373=document[_0x46b71c(0x18e)](_0x46b71c(0x1aa)),_0x390cc3=document[_0x46b71c(0x18e)](_0x46b71c(0x1d1)),_0x376e3c=document[_0x46b71c(0x18e)](_0x46b71c(0x1e4)),_0x32dcc2=document[_0x46b71c(0x18e)](_0x46b71c(0x182)),_0x3199ad=document[_0x46b71c(0x18e)](_0x46b71c(0x195)),_0x5b129a=document[_0x46b71c(0x18e)](_0x46b71c(0x1bc)),_0x11a7c3=document[_0x46b71c(0x18e)]('characterSelect'),_0x59f24e=document[_0x46b71c(0x18e)](_0x46b71c(0x1da)),_0x1263ed=document[_0x46b71c(0x18e)](_0x46b71c(0x19e)),_0x364ed8=document[_0x46b71c(0x18e)](_0x46b71c(0x185)),_0x49ad2b=document[_0x46b71c(0x18e)](_0x46b71c(0x188)),_0x51b6f5=document[_0x46b71c(0x18e)](_0x46b71c(0x199)),_0x456bfc=_0x46b71c(0x1bf),_0x5f2d4a=0x1,_0x2907bc='characters',_0x32acef=_0x46b71c(0x1e2);let _0x35a441;function _0x1fda7a(){const _0x5407ec=_0x46b71c;return Math[_0x5407ec(0x16a)](0x186a0+Math[_0x5407ec(0x1d7)]()*0xdbba0);}function _0x12913c(){return new Promise((_0x343ffe,_0x30e064)=>{const _0x9f4fc2=_0x1056,_0x172978=window['indexedDB'][_0x9f4fc2(0x1eb)](_0x456bfc,_0x5f2d4a);_0x172978['onerror']=_0x43b23c=>{const _0x566eec=_0x9f4fc2;console[_0x566eec(0x1cb)](_0x566eec(0x18b),_0x43b23c),_0x30e064('IndexedDB\x20Error:\x20'+_0x43b23c['target'][_0x566eec(0x1b2)]);},_0x172978[_0x9f4fc2(0x1ec)]=_0x3f9e0e=>{const _0x1470ea=_0x9f4fc2;_0x35a441=_0x3f9e0e[_0x1470ea(0x1d4)]['result'],console['log'](_0x1470ea(0x1c1)),_0x343ffe();},_0x172978[_0x9f4fc2(0x168)]=_0x105bdf=>{const _0x1d5d48=_0x9f4fc2;_0x35a441=_0x105bdf[_0x1d5d48(0x1d4)][_0x1d5d48(0x1e3)];const _0x3cb40c=_0x35a441[_0x1d5d48(0x1ac)](_0x2907bc,{'keyPath':'id'}),_0x3466e5=_0x35a441[_0x1d5d48(0x1ac)](_0x32acef,{'keyPath':_0x1d5d48(0x1d3)});console[_0x1d5d48(0x1cc)](_0x1d5d48(0x1d0)),_0x343ffe();};});}async function _0xde638a(){return new Promise((_0x32444e,_0x4a8762)=>{const _0x1a8a8d=_0x1056,_0x759bfb=_0x35a441[_0x1a8a8d(0x1a9)]([_0x2907bc],'readonly'),_0x5ca86f=_0x759bfb[_0x1a8a8d(0x17f)](_0x2907bc),_0x55a544=_0x5ca86f[_0x1a8a8d(0x1e9)]();_0x55a544['onerror']=_0x531d3a=>{const _0x17980d=_0x1a8a8d;console[_0x17980d(0x1cb)](_0x17980d(0x18d),_0x531d3a),_0x4a8762(_0x17980d(0x190)+_0x531d3a['target'][_0x17980d(0x1b2)]);},_0x55a544[_0x1a8a8d(0x1ec)]=_0x473896=>{const _0x429549=_0x1a8a8d;_0x32444e(_0x473896[_0x429549(0x1d4)][_0x429549(0x1e3)]);};});}async function _0x51dfd5(_0x454612){return new Promise((_0x1e1e9d,_0x1b3b4a)=>{const _0x50fa6e=_0x1056,_0x1b29cb=_0x35a441['transaction']([_0x2907bc],'readwrite'),_0x2229a3=_0x1b29cb['objectStore'](_0x2907bc),_0x43c1da=_0x2229a3[_0x50fa6e(0x183)](_0x454612);_0x43c1da[_0x50fa6e(0x18f)]=_0x4e81ba=>{const _0x460fca=_0x50fa6e;console[_0x460fca(0x1cb)]('Failed\x20to\x20save\x20charachter\x20to\x20DB',_0x4e81ba),_0x1b3b4a('IndexedDB\x20Error:\x20'+_0x4e81ba[_0x460fca(0x1d4)]['errorCode']);},_0x43c1da['onsuccess']=()=>{_0x1e1e9d();};});}async function _0x1261f8(_0x5826eb){return new Promise((_0x11ddcf,_0x28b085)=>{const _0x5747dc=_0x1056,_0x2057a7=_0x35a441[_0x5747dc(0x1a9)]([_0x2907bc],_0x5747dc(0x1f0)),_0x27b597=_0x2057a7[_0x5747dc(0x17f)](_0x2907bc),_0x34c826=_0x27b597[_0x5747dc(0x175)](_0x5826eb);_0x34c826[_0x5747dc(0x18f)]=_0x7cacca=>{const _0x6f11dd=_0x5747dc;console[_0x6f11dd(0x1cb)]('Failed\x20to\x20update\x20charachter\x20to\x20DB',_0x7cacca),_0x28b085(_0x6f11dd(0x190)+_0x7cacca[_0x6f11dd(0x1d4)]['errorCode']);},_0x34c826[_0x5747dc(0x1ec)]=()=>{_0x11ddcf();};});}async function _0x43b50d(_0x5e1a8a){return new Promise((_0x536095,_0xb69f7)=>{const _0x47c7d0=_0x1056,_0x2a89d4=_0x35a441['transaction']([_0x2907bc,_0x32acef],_0x47c7d0(0x1f0)),_0x225da8=_0x2a89d4[_0x47c7d0(0x17f)](_0x2907bc),_0x1ca45e=_0x2a89d4[_0x47c7d0(0x17f)](_0x32acef),_0xf6f92=_0x225da8['delete'](_0x5e1a8a);_0xf6f92['onerror']=_0x127061=>{const _0x2c3f69=_0x47c7d0;console['error'](_0x2c3f69(0x173),_0x127061),_0xb69f7(_0x2c3f69(0x190)+_0x127061['target']['errorCode']);},_0xf6f92['onsuccess']=()=>{const _0x4febf4=_0x47c7d0,_0x444f1d=_0x1ca45e['delete'](_0x5e1a8a);_0x444f1d[_0x4febf4(0x18f)]=_0x92f646=>{const _0x4c17aa=_0x4febf4;console[_0x4c17aa(0x16d)](_0x4c17aa(0x1c0),_0x92f646);},_0x444f1d[_0x4febf4(0x1ec)]=()=>{const _0x5e6c50=_0x4febf4;console[_0x5e6c50(0x1cc)](_0x5e6c50(0x1bb)),_0x536095();};};});}async function _0x2cd9ec(){const _0x44ce45=_0x46b71c;_0x28481a[_0x44ce45(0x1d6)]='',_0x11a7c3[_0x44ce45(0x1d6)]='';const _0x14f36=await _0xde638a();_0x14f36['forEach']((_0xf1a3b5,_0x45153d)=>{const _0x309f01=_0x44ce45,_0x2000c3=document['createElement'](_0x309f01(0x17c));_0x2000c3[_0x309f01(0x1c4)][_0x309f01(0x183)](_0x309f01(0x15b));const _0x28c934=document['createElement'](_0x309f01(0x19f));_0xf1a3b5[_0x309f01(0x195)]?_0x28c934['src']=_0xf1a3b5[_0x309f01(0x195)]:_0x28c934[_0x309f01(0x1a0)]=_0x309f01(0x1c7)+_0xf1a3b5[_0x309f01(0x15c)][0x0];_0x28c934['alt']=_0xf1a3b5['name']+_0x309f01(0x166),_0x2000c3['appendChild'](_0x28c934);const _0x4c8c61=document[_0x309f01(0x1ab)]('div');_0x4c8c61[_0x309f01(0x1c4)][_0x309f01(0x183)](_0x309f01(0x1ea));const _0x1278f1=document[_0x309f01(0x1ab)](_0x309f01(0x17c));_0x1278f1['classList'][_0x309f01(0x183)]('name'),_0x1278f1[_0x309f01(0x1a7)]=_0xf1a3b5['name'];const _0x2c9c7a=document['createElement']('div');_0x2c9c7a['classList'][_0x309f01(0x183)]('preview');const _0x5c60ea=_0xf1a3b5[_0x309f01(0x1a5)]||'No\x20greeting';_0x2c9c7a[_0x309f01(0x1a7)]=_0x5c60ea[_0x309f01(0x198)]>0x14?_0x5c60ea[_0x309f01(0x1f2)](0x0,0x28)+_0x309f01(0x15f):_0x5c60ea,_0x4c8c61[_0x309f01(0x1b0)](_0x1278f1),_0x4c8c61[_0x309f01(0x1b0)](_0x2c9c7a),_0x2000c3[_0x309f01(0x1b0)](_0x4c8c61);const _0x346fd1=document[_0x309f01(0x1ab)]('div');_0x346fd1[_0x309f01(0x1c4)]['add']('action-buttons');const _0x518cf7=document['createElement']('button');_0x518cf7['classList'][_0x309f01(0x183)](_0x309f01(0x197)),_0x518cf7['innerHTML']=_0x309f01(0x18a),_0x518cf7['addEventListener'](_0x309f01(0x1e8),_0x16fe93=>{const _0xee6f41=_0x309f01;_0x16fe93[_0xee6f41(0x1df)](),_0x5c0b82(_0xf1a3b5['id']),_0x1b83a2[_0xee6f41(0x191)][_0xee6f41(0x1c9)]=_0xee6f41(0x187),_0x498822[_0xee6f41(0x191)][_0xee6f41(0x1c9)]=_0xee6f41(0x1ce);});const _0x30bf82=document['createElement'](_0x309f01(0x1c6));_0x30bf82[_0x309f01(0x1c4)]['add']('delete-button'),_0x30bf82[_0x309f01(0x1d6)]=_0x309f01(0x19b),_0x30bf82[_0x309f01(0x177)]('click',async _0x22b412=>{const _0x838432=_0x309f01;_0x22b412[_0x838432(0x1df)]();const _0x5b739e=_0xf1a3b5['id'];await _0x43b50d(_0x5b739e),localStorage['removeItem'](_0x838432(0x1b8)+_0x5b739e),_0x2cd9ec();}),_0x346fd1['appendChild'](_0x518cf7),_0x346fd1[_0x309f01(0x1b0)](_0x30bf82),_0x2000c3['appendChild'](_0x346fd1),_0x2000c3[_0x309f01(0x177)](_0x309f01(0x1e8),()=>{const _0xe4c614=_0x309f01;window[_0xe4c614(0x176)]['href']=_0xe4c614(0x169)+_0xf1a3b5['id'];}),_0x28481a['appendChild'](_0x2000c3);const _0x541d11=document[_0x309f01(0x1ab)](_0x309f01(0x17b));_0x541d11[_0x309f01(0x1cd)]=_0xf1a3b5['id'],_0x541d11[_0x309f01(0x164)]=_0xf1a3b5[_0x309f01(0x15c)],_0x11a7c3[_0x309f01(0x1b0)](_0x541d11);});}async function _0x1cd700(_0x25d5b7){await _0x51dfd5(_0x25d5b7),_0x2cd9ec();}async function _0x40d44d(_0x415c94){await _0x1261f8(_0x415c94),_0x2cd9ec();}async function _0x1fbb06(_0x215325){await _0x43b50d(_0x215325),_0x2cd9ec();}async function _0xe640f0(_0x40170a,_0xcbedd2){const _0x1110af=_0x46b71c;if(!_0xcbedd2||_0xcbedd2['length']===0x0){console[_0x1110af(0x1cc)]('No\x20images\x20to\x20save\x20for\x20character:',_0x40170a);return;}const _0x47e55c=[];for(let _0x1ff828=0x0;_0x1ff828<_0xcbedd2[_0x1110af(0x198)];_0x1ff828++){const _0x124d50=_0xcbedd2[_0x1ff828],_0xd54e5e=await new Promise((_0x462651,_0x2f6936)=>{const _0x1c5ed5=_0x1110af,_0x5a599b=new FileReader();_0x5a599b[_0x1c5ed5(0x1a8)]=_0x2071e0=>_0x462651(_0x2071e0['target']['result']),_0x5a599b[_0x1c5ed5(0x18f)]=_0x38b167=>_0x2f6936(_0x38b167),_0x5a599b[_0x1c5ed5(0x16b)](_0x124d50);});_0x47e55c[_0x1110af(0x178)](_0xd54e5e);}return new Promise((_0x15f537,_0x4cf374)=>{const _0x1fab14=_0x1110af,_0x25e56b=_0x35a441['transaction']([_0x32acef],'readwrite'),_0x14f9b2=_0x25e56b['objectStore'](_0x32acef),_0x5d55fb=_0x14f9b2[_0x1fab14(0x175)]({'characterId':_0x40170a,'images':_0x47e55c});_0x5d55fb['onerror']=_0x36b0c4=>{const _0x820748=_0x1fab14;console[_0x820748(0x1cb)](_0x820748(0x16e),_0x40170a,_0x36b0c4),_0x4cf374('IndexedDB\x20Error:\x20'+_0x36b0c4['target'][_0x820748(0x1b2)]);},_0x5d55fb['onsuccess']=()=>{const _0x45834d=_0x1fab14;console['log'](_0x45834d(0x184),_0x40170a),_0x15f537();};});}function _0x2d846d(_0x15118f){return new Promise(async(_0x5009c9,_0x597457)=>{const _0x12711a=_0x1056,_0xba42b0=_0x35a441[_0x12711a(0x1a9)]([_0x2907bc],'readonly'),_0x37b474=_0xba42b0['objectStore'](_0x2907bc),_0x1739a7=_0x37b474['get'](parseInt(_0x15118f));_0x1739a7[_0x12711a(0x18f)]=_0x55e5bf=>{const _0x562ecf=_0x12711a;console[_0x562ecf(0x1cb)](_0x562ecf(0x1b6),_0x55e5bf),_0x597457('IndexedDB\x20Error:\x20'+_0x55e5bf['target'][_0x562ecf(0x1b2)]);},_0x1739a7[_0x12711a(0x1ec)]=_0x23d08f=>{const _0x33c02e=_0x12711a,_0x25d59a=_0x23d08f['target'][_0x33c02e(0x1e3)],_0x599bd5=_0x25d59a[_0x33c02e(0x15c)][_0x33c02e(0x17d)](/\s+/g,'_')[_0x33c02e(0x16c)]()+_0x33c02e(0x1d5),_0x4dca6b=JSON[_0x33c02e(0x1b1)](_0x25d59a,null,0x2),_0x562c58=new Blob([_0x4dca6b],{'type':_0x33c02e(0x1ca)}),_0x249760=URL['createObjectURL'](_0x562c58),_0x4fa550=document[_0x33c02e(0x1ab)]('a');_0x4fa550[_0x33c02e(0x1bd)]=_0x249760,_0x4fa550[_0x33c02e(0x1ba)]=_0x599bd5,document[_0x33c02e(0x170)][_0x33c02e(0x1b0)](_0x4fa550),_0x4fa550['click'](),document[_0x33c02e(0x170)][_0x33c02e(0x196)](_0x4fa550),URL[_0x33c02e(0x1c3)](_0x249760),_0x5009c9();};});}_0x498822[_0x46b71c(0x177)](_0x46b71c(0x1e8),()=>{const _0x4c9c35=_0x46b71c;_0x3d7db2[_0x4c9c35(0x191)][_0x4c9c35(0x1c9)]=_0x4c9c35(0x187),_0x498822['style'][_0x4c9c35(0x1c9)]=_0x4c9c35(0x1ce);}),_0x53850c[_0x46b71c(0x177)]('click',()=>{const _0x374f0c=_0x46b71c;_0x29211f[_0x374f0c(0x191)][_0x374f0c(0x1c9)]=_0x374f0c(0x187);}),_0x181c28[_0x46b71c(0x177)](_0x46b71c(0x1e8),()=>{const _0x302ec3=_0x46b71c;_0x1b4373[_0x302ec3(0x191)]['display']=_0x302ec3(0x187);});async function _0x5c0b82(_0x1a17e5){const _0x490abe=_0x46b71c,_0x508633=document[_0x490abe(0x18e)](_0x490abe(0x18c));return _0x508633[_0x490abe(0x1d6)]='',new Promise((_0xc9c91e,_0x5073dc)=>{const _0x46c76b=_0x490abe,_0x1dda99=_0x35a441[_0x46c76b(0x1a9)]([_0x2907bc],_0x46c76b(0x1a4)),_0x4e01dd=_0x1dda99[_0x46c76b(0x17f)](_0x2907bc),_0x2c93c4=_0x4e01dd[_0x46c76b(0x1e5)](_0x1a17e5);_0x2c93c4['onerror']=_0x368b52=>{const _0x37cd96=_0x46c76b;console[_0x37cd96(0x1cb)](_0x37cd96(0x1b6),_0x368b52),_0x5073dc('IndexedDB\x20Error:\x20'+_0x368b52[_0x37cd96(0x1d4)][_0x37cd96(0x1b2)]);},_0x2c93c4[_0x46c76b(0x1ec)]=_0x29fb8a=>{const _0xc6695e=_0x46c76b,_0x475de6=_0x29fb8a[_0xc6695e(0x1d4)]['result'];document[_0xc6695e(0x18e)]('editName')['value']=_0x475de6[_0xc6695e(0x15c)],document[_0xc6695e(0x18e)](_0xc6695e(0x19a))[_0xc6695e(0x1cd)]=_0x475de6[_0xc6695e(0x180)],document[_0xc6695e(0x18e)](_0xc6695e(0x1dc))['value']=_0x475de6[_0xc6695e(0x1a3)],document[_0xc6695e(0x18e)](_0xc6695e(0x174))[_0xc6695e(0x1cd)]=_0x475de6[_0xc6695e(0x1a5)],_0x5b129a[_0xc6695e(0x1cd)]=_0x1a17e5;if(_0x475de6[_0xc6695e(0x19d)]&&_0x475de6[_0xc6695e(0x19d)][_0xc6695e(0x198)]>0x0)_0x475de6[_0xc6695e(0x19d)]['forEach']((_0x2f3190,_0x1bb7e8)=>{const _0x3aacf2=_0xc6695e,_0x2fe001=document['createElement']('li');let _0x459f62=typeof _0x2f3190===_0x3aacf2(0x1d2)?_0x3aacf2(0x1a6)+(_0x1bb7e8+0x1):_0x2f3190[_0x3aacf2(0x15c)]||'Lorebook\x20'+(_0x1bb7e8+0x1);_0x2fe001[_0x3aacf2(0x1a7)]=_0x1bb7e8+0x1+'.\x20'+_0x459f62,_0x508633['appendChild'](_0x2fe001);});else{const _0x5e625c=document[_0xc6695e(0x1ab)]('li');_0x5e625c[_0xc6695e(0x1a7)]=_0xc6695e(0x1be),_0x508633['appendChild'](_0x5e625c);}_0xc9c91e();};});}const _0x1a9de0=document[_0x46b71c(0x1af)](_0x46b71c(0x162));_0x1a9de0[_0x46b71c(0x16f)](_0x408c52=>{const _0x21ed99=_0x46b71c;_0x408c52[_0x21ed99(0x177)](_0x21ed99(0x1e8),()=>{const _0x45ffc6=_0x21ed99;_0x3d7db2[_0x45ffc6(0x191)][_0x45ffc6(0x1c9)]=_0x45ffc6(0x1ce),_0x498822['style']['display']=_0x45ffc6(0x1e7),_0x1b4373[_0x45ffc6(0x191)]['display']=_0x45ffc6(0x1ce),_0x1b83a2['style'][_0x45ffc6(0x1c9)]='none',_0x29211f[_0x45ffc6(0x191)]['display']=_0x45ffc6(0x1ce),_0x498822[_0x45ffc6(0x191)][_0x45ffc6(0x1c9)]='flex';});}),window['addEventListener'](_0x46b71c(0x1e8),_0x4de336=>{const _0x4c8d8d=_0x46b71c;_0x4de336[_0x4c8d8d(0x1d4)]===_0x3d7db2&&(_0x3d7db2['style'][_0x4c8d8d(0x1c9)]=_0x4c8d8d(0x1ce),_0x498822[_0x4c8d8d(0x191)][_0x4c8d8d(0x1c9)]=_0x4c8d8d(0x1e7)),_0x4de336[_0x4c8d8d(0x1d4)]===_0x1b4373&&(_0x1b4373[_0x4c8d8d(0x191)][_0x4c8d8d(0x1c9)]=_0x4c8d8d(0x1ce)),_0x4de336[_0x4c8d8d(0x1d4)]===_0x1b83a2&&(_0x1b83a2[_0x4c8d8d(0x191)][_0x4c8d8d(0x1c9)]=_0x4c8d8d(0x1ce),_0x498822[_0x4c8d8d(0x191)][_0x4c8d8d(0x1c9)]=_0x4c8d8d(0x1e7)),_0x4de336['target']===_0x29211f&&(_0x29211f[_0x4c8d8d(0x191)][_0x4c8d8d(0x1c9)]=_0x4c8d8d(0x1ce));}),_0x59f24e[_0x46b71c(0x177)](_0x46b71c(0x1e8),async()=>{const _0x116c58=_0x46b71c,_0x104bfe=_0x11a7c3['value'];await _0x2d846d(_0x104bfe),_0x29211f[_0x116c58(0x191)][_0x116c58(0x1c9)]=_0x116c58(0x1ce);});async function _0x5c2f67(_0x15aff8){const _0xd49773=_0x46b71c,_0x11b9cf=[];for(let _0xe06475=0x0;_0xe06475<_0x15aff8[_0xd49773(0x198)];_0xe06475++){const _0x35ef9a=_0x15aff8[_0xe06475];try{const _0x56f62b=await new Promise((_0x4b361d,_0x4beb7b)=>{const _0x2a84c9=_0xd49773,_0x1179bd=new FileReader();_0x1179bd[_0x2a84c9(0x1a8)]=_0x1d4795=>_0x4b361d(_0x1d4795[_0x2a84c9(0x1d4)]['result']),_0x1179bd[_0x2a84c9(0x18f)]=_0x5a5087=>_0x4beb7b(_0x5a5087),_0x1179bd['readAsText'](_0x35ef9a);});try{const _0x5cdfad=JSON['parse'](_0x56f62b);_0x5cdfad[_0xd49773(0x15c)]=_0x35ef9a[_0xd49773(0x15c)],_0x11b9cf[_0xd49773(0x178)](_0x5cdfad);}catch(_0x50e98f){console[_0xd49773(0x16d)](_0xd49773(0x1c2)+_0x35ef9a['name']+_0xd49773(0x193),_0x50e98f),_0x11b9cf[_0xd49773(0x178)](_0x56f62b);}}catch(_0x4ca286){console['error'](_0xd49773(0x1c8)+_0x35ef9a['name']+':',_0x4ca286);}}return _0x11b9cf;}_0x390cc3[_0x46b71c(0x177)]('submit',async function(_0x54b3bb){const _0x54faca=_0x46b71c;_0x54b3bb[_0x54faca(0x19c)]();const _0x3c8fca=_0x3199ad['files'][0x0],_0x3f7d56=_0x1263ed[_0x54faca(0x1a1)],_0x260ade=_0x49ad2b[_0x54faca(0x1a1)];let _0x3d49e4;const _0x57b57d=_0x1fda7a(),_0x3e214c=await _0x5c2f67(_0x3f7d56);if(_0x3c8fca){const _0x415de6=new FileReader();_0x415de6[_0x54faca(0x1a8)]=async function(_0x2c1c5b){const _0x4ba1b3=_0x54faca;_0x3d49e4={'id':_0x57b57d,'name':document[_0x4ba1b3(0x18e)](_0x4ba1b3(0x15c))['value'],'personality':document[_0x4ba1b3(0x18e)]('personality')[_0x4ba1b3(0x1cd)],'scenario':document['getElementById'](_0x4ba1b3(0x1a3))[_0x4ba1b3(0x1cd)],'greeting':document['getElementById'](_0x4ba1b3(0x1a5))[_0x4ba1b3(0x1cd)],'profilePic':_0x2c1c5b[_0x4ba1b3(0x1d4)][_0x4ba1b3(0x1e3)],'lorebooks':_0x3e214c},await _0x1cd700(_0x3d49e4),await _0xe640f0(_0x57b57d,_0x260ade),_0x3d7db2[_0x4ba1b3(0x191)][_0x4ba1b3(0x1c9)]=_0x4ba1b3(0x1ce),_0x390cc3[_0x4ba1b3(0x1ee)]();},_0x415de6['readAsDataURL'](_0x3c8fca);}else _0x3d49e4={'id':_0x57b57d,'name':document[_0x54faca(0x18e)](_0x54faca(0x15c))[_0x54faca(0x1cd)],'personality':document['getElementById'](_0x54faca(0x180))['value'],'scenario':document[_0x54faca(0x18e)](_0x54faca(0x1a3))[_0x54faca(0x1cd)],'greeting':document[_0x54faca(0x18e)]('greeting')[_0x54faca(0x1cd)],'profilePic':'https://placehold.co/50x50/grey/white?text='+document[_0x54faca(0x18e)](_0x54faca(0x15c))[_0x54faca(0x1cd)][0x0],'lorebooks':_0x3e214c},await _0x1cd700(_0x3d49e4),await _0xe640f0(_0x57b57d,_0x260ade),_0x3d7db2['style']['display']='none',_0x390cc3[_0x54faca(0x1ee)]();}),_0x376e3c['addEventListener']('submit',async function(_0x1e4bc4){const _0x5d01c1=_0x46b71c;_0x1e4bc4[_0x5d01c1(0x19c)]();const _0x5c80d7=parseInt(_0x5b129a[_0x5d01c1(0x1cd)]),_0x49a84c=_0x32dcc2[_0x5d01c1(0x1a1)][0x0],_0x46ad4=_0x364ed8[_0x5d01c1(0x1a1)],_0x320c03=_0x51b6f5[_0x5d01c1(0x1a1)];let _0x4b0577;const _0x30e90c=await _0x5c2f67(_0x46ad4);if(_0x49a84c){const _0x12aba1=new FileReader();_0x12aba1[_0x5d01c1(0x1a8)]=async function(_0x31c6d3){const _0x4bacaf=_0x5d01c1;_0x4b0577={'id':_0x5c80d7,'name':document[_0x4bacaf(0x18e)](_0x4bacaf(0x171))[_0x4bacaf(0x1cd)],'personality':document[_0x4bacaf(0x18e)](_0x4bacaf(0x19a))[_0x4bacaf(0x1cd)],'scenario':document['getElementById'](_0x4bacaf(0x1dc))['value'],'greeting':document[_0x4bacaf(0x18e)]('editGreeting')[_0x4bacaf(0x1cd)],'profilePic':_0x31c6d3[_0x4bacaf(0x1d4)][_0x4bacaf(0x1e3)],'lorebooks':_0x30e90c},await _0x40d44d(_0x4b0577),await _0xe640f0(_0x5c80d7,_0x320c03),_0x1b83a2[_0x4bacaf(0x191)]['display']=_0x4bacaf(0x1ce),_0x376e3c['reset'](),location['reload']();},_0x12aba1['readAsDataURL'](_0x49a84c);}else{const _0x562e01=_0x35a441[_0x5d01c1(0x1a9)]([_0x2907bc],_0x5d01c1(0x1a4)),_0x4f9244=_0x562e01['objectStore'](_0x2907bc),_0x4acc33=_0x4f9244['get'](_0x5c80d7);_0x4acc33[_0x5d01c1(0x18f)]=_0x385051=>{const _0x252ea7=_0x5d01c1;console[_0x252ea7(0x1cb)]('Failed\x20to\x20get\x20charachter\x20from\x20DB',_0x385051);},_0x4acc33[_0x5d01c1(0x1ec)]=async _0x4a93ad=>{const _0x2cd10e=_0x5d01c1,_0x20555a=_0x4a93ad['target'][_0x2cd10e(0x1e3)];_0x4b0577={'id':_0x5c80d7,'name':document[_0x2cd10e(0x18e)](_0x2cd10e(0x171))['value'],'personality':document[_0x2cd10e(0x18e)](_0x2cd10e(0x19a))['value'],'scenario':document[_0x2cd10e(0x18e)](_0x2cd10e(0x1dc))[_0x2cd10e(0x1cd)],'greeting':document[_0x2cd10e(0x18e)](_0x2cd10e(0x174))['value'],'profilePic':_0x20555a['profilePic'],'lorebooks':_0x30e90c[_0x2cd10e(0x198)]>0x0?_0x30e90c:_0x20555a[_0x2cd10e(0x19d)]},await _0x40d44d(_0x4b0577),await _0xe640f0(_0x5c80d7,_0x320c03),_0x1b83a2[_0x2cd10e(0x191)][_0x2cd10e(0x1c9)]=_0x2cd10e(0x1ce),_0x376e3c[_0x2cd10e(0x1ee)](),location[_0x2cd10e(0x167)]();};}});function _0x45944b(_0x441ff0){const _0x2bc325=_0x46b71c,_0x3ac00d=atob(_0x441ff0),_0x33960d=new Uint8Array(_0x3ac00d[_0x2bc325(0x198)]);for(let _0x42270d=0x0;_0x42270d<_0x3ac00d['length'];_0x42270d++){_0x33960d[_0x42270d]=_0x3ac00d[_0x2bc325(0x1b7)](_0x42270d);}return _0x33960d[_0x2bc325(0x1c5)];}function _0x3f1a3e(_0x20f5be){return new Promise((_0x434404,_0x40b2d3)=>{const _0x469692=_0x1056,_0x4a280a=new FileReader();_0x4a280a['onload']=async function(_0x8ea1fe){const _0x348915=_0x1056;try{const _0x59e9c2=_0x45944b(_0x8ea1fe[_0x348915(0x1d4)]['result'][_0x348915(0x161)](',')[0x1]),_0xdb2d38=await _0x2e2271(_0x59e9c2);if(_0xdb2d38&&_0xdb2d38[_0x348915(0x1dd)]&&_0xdb2d38[_0x348915(0x1dd)]){let _0x4f9283=_0xdb2d38[_0x348915(0x1dd)];const _0x3a87f6=_0x4f9283['indexOf'](_0x348915(0x1e0));if(_0x3a87f6!==-0x1){_0x4f9283=_0x4f9283[_0x348915(0x1f2)](_0x3a87f6);const _0x92c001=JSON[_0x348915(0x1cf)](atob(_0x4f9283)),_0x37e3d2=_0x1fda7a(),_0x2b3c89={'id':_0x37e3d2,'name':_0x92c001['data'][_0x348915(0x15c)],'personality':(_0x92c001[_0x348915(0x1b5)][_0x348915(0x180)]||'')+'\x0a'+(_0x92c001['data'][_0x348915(0x17e)]||''),'scenario':_0x92c001[_0x348915(0x1b5)][_0x348915(0x1a3)],'greeting':_0x92c001[_0x348915(0x1b5)]['first_mes'],'profilePic':_0x8ea1fe[_0x348915(0x1d4)][_0x348915(0x1e3)],'lorebooks':[]};_0x434404(_0x2b3c89);}else _0x40b2d3(_0x348915(0x1b4));}else _0x40b2d3(_0x348915(0x172));}catch(_0x52313d){_0x40b2d3(_0x348915(0x165)+_0x52313d);}},_0x4a280a['onerror']=()=>_0x40b2d3('failed\x20to\x20read\x20file'),_0x4a280a[_0x469692(0x16b)](_0x20f5be);});}function _0x2e2271(_0x495adb){return new Promise((_0x3cc923,_0xb18003)=>{metadata['parse'](_0x495adb,(_0x316e1d,_0x1477f0)=>{if(_0x316e1d){_0xb18003(_0x316e1d);return;}_0x3cc923(_0x1477f0);});});}document[_0x46b71c(0x18e)](_0x46b71c(0x189))[_0x46b71c(0x177)](_0x46b71c(0x1b3),async function(_0x5b3edf){const _0x1f8d0b=_0x46b71c,_0x445256=_0x5b3edf[_0x1f8d0b(0x1d4)][_0x1f8d0b(0x1a1)][0x0];if(_0x445256){if(_0x445256[_0x1f8d0b(0x181)]['startsWith'](_0x1f8d0b(0x194)))try{const _0x49a993=await _0x3f1a3e(_0x445256);await _0x1cd700(_0x49a993),_0x1b4373[_0x1f8d0b(0x191)]['display']=_0x1f8d0b(0x1ce);}catch(_0x3e76c5){console['error'](_0x3e76c5),_0x1b4373[_0x1f8d0b(0x191)][_0x1f8d0b(0x1c9)]=_0x1f8d0b(0x1ce);}else{const _0x5b4ec1=new FileReader();_0x5b4ec1[_0x1f8d0b(0x1a8)]=async function(_0x211773){const _0x2b3dad=_0x1f8d0b;try{const _0x33fa7b=JSON[_0x2b3dad(0x1cf)](_0x211773[_0x2b3dad(0x1d4)][_0x2b3dad(0x1e3)]);if(Array['isArray'](_0x33fa7b))for(const _0x3e2036 of _0x33fa7b){const _0x4b3ec6=_0x1fda7a(),_0x226666={..._0x3e2036,'id':_0x4b3ec6,'lorebooks':[]};await _0x1cd700(_0x226666);}else{const _0x29dd9e=_0x1fda7a(),_0x418477={..._0x33fa7b,'id':_0x29dd9e,'lorebooks':[]};await _0x1cd700(_0x418477);}}catch(_0x3a23b9){console['error'](_0x2b3dad(0x1ef));}_0x1b4373[_0x2b3dad(0x191)][_0x2b3dad(0x1c9)]=_0x2b3dad(0x1ce);},_0x5b4ec1[_0x1f8d0b(0x15e)](_0x445256);}}}),await _0x12913c(),_0x2cd9ec();})());}));function _0x371b(){const _0x415ba4=['addEventListener','push','editCharacterModal','244066ukEHpb','option','div','replace','description','objectStore','personality','type','editProfilePic','add','Images\x20saved\x20successfully\x20for\x20character','editLorebook','322445OEXutI','block','imageSet','fileInput','<i\x20class=\x22fas\x20fa-edit\x22></i>','Failed\x20to\x20open\x20IndexedDB\x20database','lorebookList','Failed\x20to\x20get\x20charachters\x20from\x20DB','getElementById','onerror','IndexedDB\x20Error:\x20','style','973159Iawlzb','\x20as\x20JSON:','image/','profilePic','removeChild','edit-button','length','editImageSet','editPersonality','<i\x20class=\x22fas\x20fa-trash-alt\x22></i>','preventDefault','lorebooks','lorebook','img','src','files','addCharacterButton','scenario','readonly','greeting','Lorebook\x20','textContent','onload','transaction','importCharacterModal','createElement','createObjectStore','DOMContentLoaded','characterFormModal','querySelectorAll','appendChild','stringify','errorCode','change','no\x20base64\x20data','data','Failed\x20to\x20get\x20charachter\x20from\x20DB','charCodeAt','chat-history-','8540sfCyZd','download','Character\x20and\x20associated\x20images\x20deleted\x20successfully.','editIndex','href','No\x20lorebooks\x20attached.','character_ai_db','Failed\x20to\x20delete\x20images\x20for\x20character.\x20Character\x20was\x20deleted.','IndexedDB\x20database\x20opened\x20successfully','Could\x20not\x20parse\x20','revokeObjectURL','classList','buffer','button','https://placehold.co/50x50/grey/white?text=','Error\x20reading\x20file\x20','display','application/json','error','log','value','none','parse','IndexedDB\x20database\x20created\x20successfully','characterForm','string','characterId','target','.json','innerHTML','random','exportCharacterModal','characterList','confirmExport','2582028FgjHaZ','editScenario','tEXt','738536WTKZEN','stopPropagation','eyJ','exportCharacterButton','character_images','result','editCharacterForm','get','20NKspMj','flex','click','getAll','text-content','open','onsuccess','1080zmbqkG','reset','failed\x20to\x20import\x20file','readwrite','4qRUmWH','substring','chat-card','name','9HhJJaW','readAsText','...','1163937dLlkUV','split','.close-modal','20ncIvNp','text','failed\x20to\x20parse\x20data\x20','\x20Profile\x20Picture','reload','onupgradeneeded','rp-room.html?character=','floor','readAsDataURL','toLowerCase','warn','Failed\x20to\x20save\x20images\x20to\x20DB\x20for\x20character','forEach','body','editName','no\x20chara\x20data','Failed\x20to\x20delete\x20character\x20from\x20DB','editGreeting','put','location'];_0x371b=function(){return _0x415ba4;};return _0x371b();}
