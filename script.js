function _0x1933(_0x3a709c,_0x400806){const _0x249f4b=_0x249f();return _0x1933=function(_0x1933d1,_0x5ab81f){_0x1933d1=_0x1933d1-0xb8;let _0x3081d9=_0x249f4b[_0x1933d1];return _0x3081d9;},_0x1933(_0x3a709c,_0x400806);}function _0x249f(){const _0x946f2a=['IndexedDB\x20database\x20created\x20successfully','confirmExport','log','editScenario','submit','8WavOka','indexOf','body','\x20Profile\x20Picture','length','replace','reload','exportCharacterButton','toLowerCase','target','addCharacterButton','block','innerHTML','change','parse','data','51KxlYoL','readonly','tEXt','getAll','put','...','importCharacterButton','chat-card','value','transaction','characters','revokeObjectURL','stopPropagation','delete','82012HpoinV','name','description','edit-button','delete-button','<i\x20class=\x22fas\x20fa-trash-alt\x22></i>','scenario','chat-history-','div','removeItem','\x20as\x20JSON:','result','rp-room.html?character=','editName','addEventListener','img','location','Failed\x20to\x20get\x20charachters\x20from\x20DB','700874ENtWPV','IndexedDB\x20Error:\x20','editCharacterModal','onupgradeneeded','readAsText','style','readwrite','exportCharacterModal','editGreeting','createObjectStore','textContent','onload','first_mes','.json','preview','3667416wjYpLk','No\x20lorebooks\x20attached.','editPersonality','href','errorCode','preventDefault','onsuccess','removeChild','167574CtFwLc','eyJ','split','Could\x20not\x20parse\x20','classList','personality','createElement','.close-modal','lorebook','image/','7919330FGwvXy','<i\x20class=\x22fas\x20fa-edit\x22></i>','error','editProfilePic','characterFormModal','onerror','charCodeAt','Lorebook\x20','alt','appendChild','random','readAsDataURL','Failed\x20to\x20update\x20charachter\x20to\x20DB','3634455EQLMBg','forEach','add','No\x20greeting','src','display','Failed\x20to\x20get\x20charachter\x20from\x20DB','profilePic','no\x20base64\x20data','flex','warn','objectStore','lorebooks','type','editCharacterForm','Failed\x20to\x20save\x20charachter\x20to\x20DB','getElementById','substring','reset','greeting','fileInput','lorebookList','startsWith','button','get','failed\x20to\x20parse\x20data\x20','none','IndexedDB\x20database\x20opened\x20successfully','Failed\x20to\x20open\x20IndexedDB\x20database','103369LJEjGG','push','files','click','querySelectorAll','9RemVxB','characterSelect','Failed\x20to\x20delete\x20character\x20from\x20DB'];_0x249f=function(){return _0x946f2a;};return _0x249f();}(function(_0x20078e,_0x277d61){const _0x574e5a=_0x1933,_0x4d4805=_0x20078e();while(!![]){try{const _0x55e300=-parseInt(_0x574e5a(0x112))/0x1+parseInt(_0x574e5a(0x129))/0x2+-parseInt(_0x574e5a(0xf2))/0x3*(-parseInt(_0x574e5a(0x100))/0x4)+-parseInt(_0x574e5a(0xb8))/0x5+parseInt(_0x574e5a(0x121))/0x6+-parseInt(_0x574e5a(0xd5))/0x7*(parseInt(_0x574e5a(0xe2))/0x8)+parseInt(_0x574e5a(0xda))/0x9*(parseInt(_0x574e5a(0x133))/0xa);if(_0x55e300===_0x277d61)break;else _0x4d4805['push'](_0x4d4805['shift']());}catch(_0x34337f){_0x4d4805['push'](_0x4d4805['shift']());}}}(_0x249f,0x5ff0f),document['addEventListener']('DOMContentLoaded',function(){((async()=>{const _0x28a3de=_0x1933,_0x86e527=document[_0x28a3de(0xc8)]('characterList'),_0x53c04b=document[_0x28a3de(0xc8)](_0x28a3de(0xec)),_0x1c5043=document['getElementById'](_0x28a3de(0xf8)),_0xc88a53=document[_0x28a3de(0xc8)](_0x28a3de(0xe9)),_0x2b6a4e=document['getElementById'](_0x28a3de(0x119)),_0x559b08=document[_0x28a3de(0xc8)](_0x28a3de(0x137)),_0x459e5f=document[_0x28a3de(0xc8)](_0x28a3de(0x114)),_0x27c5eb=document['getElementById']('importCharacterModal'),_0x372ce7=document[_0x28a3de(0xc8)]('characterForm'),_0x533a6d=document[_0x28a3de(0xc8)](_0x28a3de(0xc6)),_0x14d1c8=document[_0x28a3de(0xc8)](_0x28a3de(0x136)),_0x23e761=document[_0x28a3de(0xc8)](_0x28a3de(0xbf)),_0x1af716=document[_0x28a3de(0xc8)]('editIndex'),_0x3d8b7d=document[_0x28a3de(0xc8)](_0x28a3de(0xdb)),_0x4c0a95=document[_0x28a3de(0xc8)](_0x28a3de(0xde)),_0x389ca1=document[_0x28a3de(0xc8)](_0x28a3de(0x131)),_0x174de6=document[_0x28a3de(0xc8)]('editLorebook'),_0x55bc21='character_ai_db',_0x251893=0x1,_0x538174=_0x28a3de(0xfc);let _0x15e65d;function _0x43db8c(){const _0x499ef5=_0x28a3de;return Math['floor'](0x186a0+Math[_0x499ef5(0x13d)]()*0xdbba0);}function _0x40cf1d(){return new Promise((_0x27a46f,_0x395dec)=>{const _0x4a898d=_0x1933,_0x432930=window['indexedDB']['open'](_0x55bc21,_0x251893);_0x432930[_0x4a898d(0x138)]=_0x57dd4b=>{const _0x44c5ed=_0x4a898d;console[_0x44c5ed(0x135)](_0x44c5ed(0xd4),_0x57dd4b),_0x395dec('IndexedDB\x20Error:\x20'+_0x57dd4b[_0x44c5ed(0xeb)][_0x44c5ed(0x125)]);},_0x432930['onsuccess']=_0xc387a5=>{const _0x140f86=_0x4a898d;_0x15e65d=_0xc387a5[_0x140f86(0xeb)][_0x140f86(0x10b)],console[_0x140f86(0xdf)](_0x140f86(0xd3)),_0x27a46f();},_0x432930[_0x4a898d(0x115)]=_0x1810db=>{const _0x520d6e=_0x4a898d;_0x15e65d=_0x1810db[_0x520d6e(0xeb)][_0x520d6e(0x10b)];const _0x4fd6c5=_0x15e65d[_0x520d6e(0x11b)](_0x538174,{'keyPath':'id'});console['log'](_0x520d6e(0xdd)),_0x27a46f();};});}async function _0x554aa1(){return new Promise((_0x2cee5d,_0xb88e61)=>{const _0x4c844a=_0x1933,_0x23d06b=_0x15e65d[_0x4c844a(0xfb)]([_0x538174],_0x4c844a(0xf3)),_0x2d0ed1=_0x23d06b[_0x4c844a(0xc3)](_0x538174),_0x47d1a1=_0x2d0ed1[_0x4c844a(0xf5)]();_0x47d1a1[_0x4c844a(0x138)]=_0x458c7a=>{const _0x5468b=_0x4c844a;console['error'](_0x5468b(0x111),_0x458c7a),_0xb88e61(_0x5468b(0x113)+_0x458c7a['target'][_0x5468b(0x125)]);},_0x47d1a1[_0x4c844a(0x127)]=_0x2515b7=>{const _0xcdbcaa=_0x4c844a;_0x2cee5d(_0x2515b7[_0xcdbcaa(0xeb)][_0xcdbcaa(0x10b)]);};});}async function _0x592353(_0x5bc0f9){return new Promise((_0x2379ba,_0x1b58b4)=>{const _0x24dc8f=_0x1933,_0x2f36bb=_0x15e65d[_0x24dc8f(0xfb)]([_0x538174],_0x24dc8f(0x118)),_0x43ae99=_0x2f36bb[_0x24dc8f(0xc3)](_0x538174),_0x367f9b=_0x43ae99[_0x24dc8f(0xba)](_0x5bc0f9);_0x367f9b[_0x24dc8f(0x138)]=_0x1aeb57=>{const _0x2819a4=_0x24dc8f;console['error'](_0x2819a4(0xc7),_0x1aeb57),_0x1b58b4(_0x2819a4(0x113)+_0x1aeb57[_0x2819a4(0xeb)]['errorCode']);},_0x367f9b[_0x24dc8f(0x127)]=()=>{_0x2379ba();};});}async function _0x558f07(_0x537d59){return new Promise((_0x41832e,_0x158bd3)=>{const _0x4a2f2a=_0x1933,_0x10f8aa=_0x15e65d[_0x4a2f2a(0xfb)]([_0x538174],_0x4a2f2a(0x118)),_0x5c593c=_0x10f8aa[_0x4a2f2a(0xc3)](_0x538174),_0x3c795c=_0x5c593c[_0x4a2f2a(0xf6)](_0x537d59);_0x3c795c['onerror']=_0x3c938a=>{const _0x591034=_0x4a2f2a;console[_0x591034(0x135)](_0x591034(0x13f),_0x3c938a),_0x158bd3(_0x591034(0x113)+_0x3c938a[_0x591034(0xeb)][_0x591034(0x125)]);},_0x3c795c[_0x4a2f2a(0x127)]=()=>{_0x41832e();};});}async function _0x50b2e1(_0x179baa){return new Promise((_0xee259a,_0x1b12a5)=>{const _0x928fce=_0x1933,_0x4f8b61=_0x15e65d['transaction']([_0x538174],_0x928fce(0x118)),_0x47586b=_0x4f8b61[_0x928fce(0xc3)](_0x538174),_0x2b43f1=_0x47586b[_0x928fce(0xff)](_0x179baa);_0x2b43f1[_0x928fce(0x138)]=_0x212c6e=>{const _0x56e550=_0x928fce;console[_0x56e550(0x135)](_0x56e550(0xdc),_0x212c6e),_0x1b12a5('IndexedDB\x20Error:\x20'+_0x212c6e['target'][_0x56e550(0x125)]);},_0x2b43f1['onsuccess']=()=>{_0xee259a();};});}async function _0xb0cdce(){const _0xd7579a=_0x28a3de;_0x86e527['innerHTML']='',_0x3d8b7d['innerHTML']='';const _0x4d4664=await _0x554aa1();_0x4d4664[_0xd7579a(0xb9)]((_0x1a0ecd,_0x52689d)=>{const _0x1aef11=_0xd7579a,_0x285e10=document['createElement'](_0x1aef11(0x108));_0x285e10['classList'][_0x1aef11(0xba)](_0x1aef11(0xf9));const _0x4e181b=document['createElement'](_0x1aef11(0x10f));_0x1a0ecd[_0x1aef11(0xbf)]?_0x4e181b[_0x1aef11(0xbc)]=_0x1a0ecd[_0x1aef11(0xbf)]:_0x4e181b[_0x1aef11(0xbc)]='https://placehold.co/50x50/grey/white?text='+_0x1a0ecd['name'][0x0];_0x4e181b[_0x1aef11(0x13b)]=_0x1a0ecd[_0x1aef11(0x101)]+_0x1aef11(0xe5),_0x285e10[_0x1aef11(0x13c)](_0x4e181b);const _0x44d8b0=document[_0x1aef11(0x12f)]('div');_0x44d8b0[_0x1aef11(0x12d)]['add']('text-content');const _0x352b8d=document[_0x1aef11(0x12f)]('div');_0x352b8d['classList']['add'](_0x1aef11(0x101)),_0x352b8d[_0x1aef11(0x11c)]=_0x1a0ecd[_0x1aef11(0x101)];const _0x1b7e42=document[_0x1aef11(0x12f)](_0x1aef11(0x108));_0x1b7e42[_0x1aef11(0x12d)][_0x1aef11(0xba)](_0x1aef11(0x120));const _0x3f584f=_0x1a0ecd[_0x1aef11(0xcb)]||_0x1aef11(0xbb);_0x1b7e42[_0x1aef11(0x11c)]=_0x3f584f[_0x1aef11(0xe6)]>0x14?_0x3f584f[_0x1aef11(0xc9)](0x0,0x28)+_0x1aef11(0xf7):_0x3f584f,_0x44d8b0['appendChild'](_0x352b8d),_0x44d8b0[_0x1aef11(0x13c)](_0x1b7e42),_0x285e10[_0x1aef11(0x13c)](_0x44d8b0);const _0x1b5837=document[_0x1aef11(0x12f)](_0x1aef11(0x108));_0x1b5837['classList'][_0x1aef11(0xba)]('action-buttons');const _0x125d8f=document[_0x1aef11(0x12f)](_0x1aef11(0xcf));_0x125d8f['classList'][_0x1aef11(0xba)](_0x1aef11(0x103)),_0x125d8f[_0x1aef11(0xee)]=_0x1aef11(0x134),_0x125d8f[_0x1aef11(0x10e)]('click',_0x3c6c25=>{const _0x3118c3=_0x1aef11;_0x3c6c25[_0x3118c3(0xfe)](),_0x106065(_0x1a0ecd['id']),_0x459e5f[_0x3118c3(0x117)]['display']=_0x3118c3(0xed),_0x53c04b[_0x3118c3(0x117)][_0x3118c3(0xbd)]=_0x3118c3(0xd2);});const _0x4129b4=document['createElement'](_0x1aef11(0xcf));_0x4129b4[_0x1aef11(0x12d)][_0x1aef11(0xba)](_0x1aef11(0x104)),_0x4129b4[_0x1aef11(0xee)]=_0x1aef11(0x105),_0x4129b4[_0x1aef11(0x10e)]('click',async _0x55b2cb=>{const _0x3e749b=_0x1aef11;_0x55b2cb[_0x3e749b(0xfe)]();const _0x3860bf=_0x1a0ecd['id'];await _0x50b2e1(_0x3860bf),localStorage[_0x3e749b(0x109)](_0x3e749b(0x107)+_0x3860bf),_0xb0cdce();}),_0x1b5837[_0x1aef11(0x13c)](_0x125d8f),_0x1b5837['appendChild'](_0x4129b4),_0x285e10[_0x1aef11(0x13c)](_0x1b5837),_0x285e10[_0x1aef11(0x10e)](_0x1aef11(0xd8),()=>{const _0x523b5e=_0x1aef11;window[_0x523b5e(0x110)]['href']=_0x523b5e(0x10c)+_0x1a0ecd['id'];}),_0x86e527[_0x1aef11(0x13c)](_0x285e10);const _0x463ef2=document[_0x1aef11(0x12f)]('option');_0x463ef2[_0x1aef11(0xfa)]=_0x1a0ecd['id'],_0x463ef2['text']=_0x1a0ecd['name'],_0x3d8b7d['appendChild'](_0x463ef2);});}async function _0x321ad1(_0x34d7c2){await _0x592353(_0x34d7c2),_0xb0cdce();}async function _0x43306b(_0x188077){await _0x558f07(_0x188077),_0xb0cdce();}async function _0x2e7940(_0x1a74c2){await _0x50b2e1(_0x1a74c2),_0xb0cdce();}function _0x56f4cb(_0x138250){return new Promise(async(_0xabe3d5,_0x3eaef6)=>{const _0x298e22=_0x1933,_0x4ce68f=_0x15e65d[_0x298e22(0xfb)]([_0x538174],_0x298e22(0xf3)),_0x124480=_0x4ce68f[_0x298e22(0xc3)](_0x538174),_0x282528=_0x124480[_0x298e22(0xd0)](parseInt(_0x138250));_0x282528[_0x298e22(0x138)]=_0x3c38fa=>{const _0x16d823=_0x298e22;console[_0x16d823(0x135)](_0x16d823(0xbe),_0x3c38fa),_0x3eaef6(_0x16d823(0x113)+_0x3c38fa[_0x16d823(0xeb)]['errorCode']);},_0x282528['onsuccess']=_0x4d0c8a=>{const _0x347433=_0x298e22,_0x1c23fd=_0x4d0c8a['target']['result'],_0x2e4767=_0x1c23fd[_0x347433(0x101)][_0x347433(0xe7)](/\s+/g,'_')[_0x347433(0xea)]()+_0x347433(0x11f),_0x4484b9=JSON['stringify'](_0x1c23fd,null,0x2),_0x5f2be0=new Blob([_0x4484b9],{'type':'application/json'}),_0x3f6ed3=URL['createObjectURL'](_0x5f2be0),_0x1678bb=document[_0x347433(0x12f)]('a');_0x1678bb[_0x347433(0x124)]=_0x3f6ed3,_0x1678bb['download']=_0x2e4767,document[_0x347433(0xe4)][_0x347433(0x13c)](_0x1678bb),_0x1678bb[_0x347433(0xd8)](),document[_0x347433(0xe4)][_0x347433(0x128)](_0x1678bb),URL[_0x347433(0xfd)](_0x3f6ed3),_0xabe3d5();};});}_0x53c04b[_0x28a3de(0x10e)]('click',()=>{const _0x473720=_0x28a3de;_0x559b08[_0x473720(0x117)][_0x473720(0xbd)]=_0x473720(0xed),_0x53c04b['style'][_0x473720(0xbd)]=_0x473720(0xd2);}),_0xc88a53[_0x28a3de(0x10e)](_0x28a3de(0xd8),()=>{const _0x4e3182=_0x28a3de;_0x2b6a4e[_0x4e3182(0x117)][_0x4e3182(0xbd)]=_0x4e3182(0xed);}),_0x1c5043['addEventListener'](_0x28a3de(0xd8),()=>{const _0x2ff4d0=_0x28a3de;_0x27c5eb[_0x2ff4d0(0x117)]['display']=_0x2ff4d0(0xed);});async function _0x106065(_0x2b15b5){const _0xf49a74=_0x28a3de,_0x2a5610=document[_0xf49a74(0xc8)](_0xf49a74(0xcd));return _0x2a5610['innerHTML']='',new Promise((_0x5e717f,_0x4df64c)=>{const _0x41901f=_0xf49a74,_0x1bfae7=_0x15e65d['transaction']([_0x538174],_0x41901f(0xf3)),_0x1aa6af=_0x1bfae7[_0x41901f(0xc3)](_0x538174),_0x54982d=_0x1aa6af[_0x41901f(0xd0)](_0x2b15b5);_0x54982d[_0x41901f(0x138)]=_0xefe48b=>{const _0x12433e=_0x41901f;console['error'](_0x12433e(0xbe),_0xefe48b),_0x4df64c(_0x12433e(0x113)+_0xefe48b[_0x12433e(0xeb)][_0x12433e(0x125)]);},_0x54982d[_0x41901f(0x127)]=_0x30c53b=>{const _0x29b08b=_0x41901f,_0x4d65ba=_0x30c53b[_0x29b08b(0xeb)][_0x29b08b(0x10b)];document['getElementById'](_0x29b08b(0x10d))['value']=_0x4d65ba[_0x29b08b(0x101)],document[_0x29b08b(0xc8)](_0x29b08b(0x123))[_0x29b08b(0xfa)]=_0x4d65ba['personality'],document['getElementById'](_0x29b08b(0xe0))['value']=_0x4d65ba['scenario'],document[_0x29b08b(0xc8)](_0x29b08b(0x11a))[_0x29b08b(0xfa)]=_0x4d65ba[_0x29b08b(0xcb)],_0x1af716[_0x29b08b(0xfa)]=_0x2b15b5;if(_0x4d65ba[_0x29b08b(0xc4)]&&_0x4d65ba[_0x29b08b(0xc4)][_0x29b08b(0xe6)]>0x0)_0x4d65ba[_0x29b08b(0xc4)][_0x29b08b(0xb9)]((_0x4b9a9d,_0x241a96)=>{const _0x342a61=_0x29b08b,_0x5b53e1=document[_0x342a61(0x12f)]('li');let _0x1317e4=typeof _0x4b9a9d==='string'?_0x342a61(0x13a)+(_0x241a96+0x1):_0x4b9a9d[_0x342a61(0x101)]||_0x342a61(0x13a)+(_0x241a96+0x1);_0x5b53e1[_0x342a61(0x11c)]=_0x241a96+0x1+'.\x20'+_0x1317e4,_0x2a5610['appendChild'](_0x5b53e1);});else{const _0x42c585=document[_0x29b08b(0x12f)]('li');_0x42c585[_0x29b08b(0x11c)]=_0x29b08b(0x122),_0x2a5610[_0x29b08b(0x13c)](_0x42c585);}_0x5e717f();};});}const _0x335218=document[_0x28a3de(0xd9)](_0x28a3de(0x130));_0x335218['forEach'](_0x1bfb96=>{const _0xd110d6=_0x28a3de;_0x1bfb96[_0xd110d6(0x10e)](_0xd110d6(0xd8),()=>{const _0x2c5aa3=_0xd110d6;_0x559b08[_0x2c5aa3(0x117)][_0x2c5aa3(0xbd)]='none',_0x53c04b['style'][_0x2c5aa3(0xbd)]=_0x2c5aa3(0xc1),_0x27c5eb[_0x2c5aa3(0x117)][_0x2c5aa3(0xbd)]='none',_0x459e5f[_0x2c5aa3(0x117)][_0x2c5aa3(0xbd)]=_0x2c5aa3(0xd2),_0x2b6a4e[_0x2c5aa3(0x117)]['display']=_0x2c5aa3(0xd2),_0x53c04b['style'][_0x2c5aa3(0xbd)]=_0x2c5aa3(0xc1);});}),window[_0x28a3de(0x10e)](_0x28a3de(0xd8),_0x87cde9=>{const _0x65df17=_0x28a3de;_0x87cde9[_0x65df17(0xeb)]===_0x559b08&&(_0x559b08[_0x65df17(0x117)][_0x65df17(0xbd)]=_0x65df17(0xd2),_0x53c04b['style'][_0x65df17(0xbd)]=_0x65df17(0xc1)),_0x87cde9[_0x65df17(0xeb)]===_0x27c5eb&&(_0x27c5eb[_0x65df17(0x117)][_0x65df17(0xbd)]=_0x65df17(0xd2)),_0x87cde9['target']===_0x459e5f&&(_0x459e5f[_0x65df17(0x117)][_0x65df17(0xbd)]=_0x65df17(0xd2),_0x53c04b[_0x65df17(0x117)][_0x65df17(0xbd)]=_0x65df17(0xc1)),_0x87cde9[_0x65df17(0xeb)]===_0x2b6a4e&&(_0x2b6a4e[_0x65df17(0x117)][_0x65df17(0xbd)]=_0x65df17(0xd2));}),_0x4c0a95['addEventListener'](_0x28a3de(0xd8),async()=>{const _0xd56c98=_0x28a3de,_0x59ade7=_0x3d8b7d['value'];await _0x56f4cb(_0x59ade7),_0x2b6a4e[_0xd56c98(0x117)][_0xd56c98(0xbd)]=_0xd56c98(0xd2);});async function _0x5c5dbd(_0xe13f85){const _0xadf18b=_0x28a3de,_0x13ad5f=[];for(let _0x37646b=0x0;_0x37646b<_0xe13f85[_0xadf18b(0xe6)];_0x37646b++){const _0xcbd3fe=_0xe13f85[_0x37646b];try{const _0x2c8410=await new Promise((_0x4b6491,_0x40db94)=>{const _0x56d39d=_0xadf18b,_0x5f416e=new FileReader();_0x5f416e[_0x56d39d(0x11d)]=_0x4ed7c2=>_0x4b6491(_0x4ed7c2[_0x56d39d(0xeb)]['result']),_0x5f416e[_0x56d39d(0x138)]=_0x5d2720=>_0x40db94(_0x5d2720),_0x5f416e[_0x56d39d(0x116)](_0xcbd3fe);});try{const _0x2cfadb=JSON[_0xadf18b(0xf0)](_0x2c8410);_0x2cfadb[_0xadf18b(0x101)]=_0xcbd3fe[_0xadf18b(0x101)],_0x13ad5f['push'](_0x2cfadb);}catch(_0x46b764){console[_0xadf18b(0xc2)](_0xadf18b(0x12c)+_0xcbd3fe['name']+_0xadf18b(0x10a),_0x46b764),_0x13ad5f[_0xadf18b(0xd6)](_0x2c8410);}}catch(_0x54ead9){console['error']('Error\x20reading\x20file\x20'+_0xcbd3fe['name']+':',_0x54ead9);}}return _0x13ad5f;}_0x372ce7[_0x28a3de(0x10e)](_0x28a3de(0xe1),async function(_0x3858f0){const _0x196a33=_0x28a3de;_0x3858f0['preventDefault']();const _0x3fdd0f=_0x23e761[_0x196a33(0xd7)][0x0],_0x182c3d=_0x389ca1[_0x196a33(0xd7)];let _0x29e064;const _0x40c550=_0x43db8c(),_0x37f0ef=await _0x5c5dbd(_0x182c3d);if(_0x3fdd0f){const _0x5dda74=new FileReader();_0x5dda74['onload']=async function(_0x35e323){const _0x5eb7dc=_0x196a33;_0x29e064={'id':_0x40c550,'name':document['getElementById'](_0x5eb7dc(0x101))[_0x5eb7dc(0xfa)],'personality':document[_0x5eb7dc(0xc8)](_0x5eb7dc(0x12e))[_0x5eb7dc(0xfa)],'scenario':document['getElementById'](_0x5eb7dc(0x106))['value'],'greeting':document['getElementById']('greeting')['value'],'profilePic':_0x35e323['target'][_0x5eb7dc(0x10b)],'lorebooks':_0x37f0ef},await _0x321ad1(_0x29e064),_0x559b08[_0x5eb7dc(0x117)][_0x5eb7dc(0xbd)]=_0x5eb7dc(0xd2),_0x372ce7['reset']();},_0x5dda74[_0x196a33(0x13e)](_0x3fdd0f);}else _0x29e064={'id':_0x40c550,'name':document[_0x196a33(0xc8)]('name')[_0x196a33(0xfa)],'personality':document[_0x196a33(0xc8)](_0x196a33(0x12e))[_0x196a33(0xfa)],'scenario':document[_0x196a33(0xc8)]('scenario')[_0x196a33(0xfa)],'greeting':document[_0x196a33(0xc8)]('greeting')[_0x196a33(0xfa)],'profilePic':'https://placehold.co/50x50/grey/white?text='+document[_0x196a33(0xc8)](_0x196a33(0x101))[_0x196a33(0xfa)][0x0],'lorebooks':_0x37f0ef},await _0x321ad1(_0x29e064),_0x559b08['style']['display']=_0x196a33(0xd2),_0x372ce7[_0x196a33(0xca)]();}),_0x533a6d[_0x28a3de(0x10e)]('submit',async function(_0x17f7e2){const _0x2193db=_0x28a3de;_0x17f7e2[_0x2193db(0x126)]();const _0x30e32b=parseInt(_0x1af716[_0x2193db(0xfa)]),_0x789d63=_0x14d1c8[_0x2193db(0xd7)][0x0],_0x1ce09f=_0x174de6['files'];let _0x397463;const _0x16f430=await _0x5c5dbd(_0x1ce09f);if(_0x789d63){const _0x1330f8=new FileReader();_0x1330f8[_0x2193db(0x11d)]=async function(_0x27c4a8){const _0xae57b3=_0x2193db;_0x397463={'id':_0x30e32b,'name':document[_0xae57b3(0xc8)](_0xae57b3(0x10d))[_0xae57b3(0xfa)],'personality':document[_0xae57b3(0xc8)](_0xae57b3(0x123))['value'],'scenario':document[_0xae57b3(0xc8)](_0xae57b3(0xe0))[_0xae57b3(0xfa)],'greeting':document[_0xae57b3(0xc8)]('editGreeting')['value'],'profilePic':_0x27c4a8[_0xae57b3(0xeb)]['result'],'lorebooks':_0x16f430},await _0x43306b(_0x397463),_0x459e5f[_0xae57b3(0x117)]['display']='none',_0x533a6d[_0xae57b3(0xca)](),location[_0xae57b3(0xe8)]();},_0x1330f8[_0x2193db(0x13e)](_0x789d63);}else{const _0x2fdfd0=_0x15e65d[_0x2193db(0xfb)]([_0x538174],'readonly'),_0x4f24b2=_0x2fdfd0[_0x2193db(0xc3)](_0x538174),_0x392a35=_0x4f24b2[_0x2193db(0xd0)](_0x30e32b);_0x392a35['onerror']=_0x54070b=>{const _0x2bd79a=_0x2193db;console['error'](_0x2bd79a(0xbe),_0x54070b);},_0x392a35[_0x2193db(0x127)]=async _0x24287c=>{const _0x189027=_0x2193db,_0x3100ee=_0x24287c[_0x189027(0xeb)][_0x189027(0x10b)];_0x397463={'id':_0x30e32b,'name':document[_0x189027(0xc8)](_0x189027(0x10d))[_0x189027(0xfa)],'personality':document[_0x189027(0xc8)](_0x189027(0x123))['value'],'scenario':document[_0x189027(0xc8)]('editScenario')[_0x189027(0xfa)],'greeting':document[_0x189027(0xc8)]('editGreeting')[_0x189027(0xfa)],'profilePic':_0x3100ee[_0x189027(0xbf)],'lorebooks':_0x16f430[_0x189027(0xe6)]>0x0?_0x16f430:_0x3100ee[_0x189027(0xc4)]},await _0x43306b(_0x397463),_0x459e5f[_0x189027(0x117)][_0x189027(0xbd)]='none',_0x533a6d['reset'](),location[_0x189027(0xe8)]();};}});function _0x592681(_0x4e664b){const _0x687d68=_0x28a3de,_0xbcf195=atob(_0x4e664b),_0x1e2a3f=new Uint8Array(_0xbcf195[_0x687d68(0xe6)]);for(let _0x1f1715=0x0;_0x1f1715<_0xbcf195[_0x687d68(0xe6)];_0x1f1715++){_0x1e2a3f[_0x1f1715]=_0xbcf195[_0x687d68(0x139)](_0x1f1715);}return _0x1e2a3f['buffer'];}function _0x28fbaa(_0x2cf775){return new Promise((_0x5cbf56,_0x3eb808)=>{const _0x56d10d=_0x1933,_0x545b65=new FileReader();_0x545b65[_0x56d10d(0x11d)]=async function(_0x4fc446){const _0x2d57d9=_0x56d10d;try{const _0x39d572=_0x592681(_0x4fc446[_0x2d57d9(0xeb)][_0x2d57d9(0x10b)][_0x2d57d9(0x12b)](',')[0x1]),_0x33bdfe=await _0x2cd0e6(_0x39d572);if(_0x33bdfe&&_0x33bdfe[_0x2d57d9(0xf4)]&&_0x33bdfe[_0x2d57d9(0xf4)]){let _0xaad48a=_0x33bdfe[_0x2d57d9(0xf4)];const _0x1ed508=_0xaad48a[_0x2d57d9(0xe3)](_0x2d57d9(0x12a));if(_0x1ed508!==-0x1){_0xaad48a=_0xaad48a[_0x2d57d9(0xc9)](_0x1ed508);const _0x3a4772=JSON[_0x2d57d9(0xf0)](atob(_0xaad48a)),_0x4ede02=_0x43db8c(),_0x3f51c4={'id':_0x4ede02,'name':_0x3a4772[_0x2d57d9(0xf1)][_0x2d57d9(0x101)],'personality':(_0x3a4772['data'][_0x2d57d9(0x12e)]||'')+'\x0a'+(_0x3a4772['data'][_0x2d57d9(0x102)]||''),'scenario':_0x3a4772['data'][_0x2d57d9(0x106)],'greeting':_0x3a4772[_0x2d57d9(0xf1)][_0x2d57d9(0x11e)],'profilePic':_0x4fc446[_0x2d57d9(0xeb)][_0x2d57d9(0x10b)],'lorebooks':[]};_0x5cbf56(_0x3f51c4);}else _0x3eb808(_0x2d57d9(0xc0));}else _0x3eb808('no\x20chara\x20data');}catch(_0x2d6377){_0x3eb808(_0x2d57d9(0xd1)+_0x2d6377);}},_0x545b65[_0x56d10d(0x138)]=()=>_0x3eb808('failed\x20to\x20read\x20file'),_0x545b65['readAsDataURL'](_0x2cf775);});}function _0x2cd0e6(_0x3d09f7){return new Promise((_0x3f41b0,_0x15fdca)=>{const _0x954ad=_0x1933;metadata[_0x954ad(0xf0)](_0x3d09f7,(_0x38435f,_0x158b11)=>{if(_0x38435f){_0x15fdca(_0x38435f);return;}_0x3f41b0(_0x158b11);});});}document[_0x28a3de(0xc8)](_0x28a3de(0xcc))['addEventListener'](_0x28a3de(0xef),async function(_0x2997c1){const _0x41d50f=_0x28a3de,_0x110233=_0x2997c1[_0x41d50f(0xeb)][_0x41d50f(0xd7)][0x0];if(_0x110233){if(_0x110233[_0x41d50f(0xc5)][_0x41d50f(0xce)](_0x41d50f(0x132)))try{const _0x4bfd2f=await _0x28fbaa(_0x110233);await _0x321ad1(_0x4bfd2f),_0x27c5eb[_0x41d50f(0x117)][_0x41d50f(0xbd)]=_0x41d50f(0xd2);}catch(_0x48fd4c){console[_0x41d50f(0x135)](_0x48fd4c),_0x27c5eb['style'][_0x41d50f(0xbd)]=_0x41d50f(0xd2);}else{const _0x53eaa0=new FileReader();_0x53eaa0[_0x41d50f(0x11d)]=async function(_0x18b340){const _0x38b863=_0x41d50f;try{const _0x43e869=JSON[_0x38b863(0xf0)](_0x18b340[_0x38b863(0xeb)][_0x38b863(0x10b)]);if(Array['isArray'](_0x43e869))for(const _0x2b877b of _0x43e869){const _0x45f088=_0x43db8c(),_0x396614={..._0x2b877b,'id':_0x45f088,'lorebooks':[]};await _0x321ad1(_0x396614);}else{const _0x5cc32f=_0x43db8c(),_0x5eabfb={..._0x43e869,'id':_0x5cc32f,'lorebooks':[]};await _0x321ad1(_0x5eabfb);}}catch(_0x3a7909){console[_0x38b863(0x135)]('failed\x20to\x20import\x20file');}_0x27c5eb[_0x38b863(0x117)][_0x38b863(0xbd)]=_0x38b863(0xd2);},_0x53eaa0[_0x41d50f(0x116)](_0x110233);}}}),await _0x40cf1d(),_0xb0cdce();})());}));