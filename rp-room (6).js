const _0x409b64=_0x1775;(function(_0x200dc,_0xc0549f){const _0x4bfd12=_0x1775,_0x14892d=_0x200dc();while(!![]){try{const _0x4acd49=parseInt(_0x4bfd12(0x297))/0x1+-parseInt(_0x4bfd12(0x215))/0x2*(parseInt(_0x4bfd12(0x24f))/0x3)+-parseInt(_0x4bfd12(0x227))/0x4+-parseInt(_0x4bfd12(0x1fe))/0x5*(-parseInt(_0x4bfd12(0x228))/0x6)+parseInt(_0x4bfd12(0x282))/0x7+parseInt(_0x4bfd12(0x267))/0x8+-parseInt(_0x4bfd12(0x278))/0x9*(-parseInt(_0x4bfd12(0x2b0))/0xa);if(_0x4acd49===_0xc0549f)break;else _0x14892d['push'](_0x14892d['shift']());}catch(_0x54cb56){_0x14892d['push'](_0x14892d['shift']());}}}(_0x5c7e,0x6aade));import*as _0x5abc66 from'./png-metadata-browser.js';import{GoogleGenerativeAI,HarmBlockThreshold,HarmCategory,DynamicRetrievalMode}from'@google/generative-ai';function _0x1775(_0x40dbb1,_0x12617c){const _0x5c7e8e=_0x5c7e();return _0x1775=function(_0x1775ed,_0x3043fc){_0x1775ed=_0x1775ed-0x1de;let _0x3a6500=_0x5c7e8e[_0x1775ed];return _0x3a6500;},_0x1775(_0x40dbb1,_0x12617c);}document[_0x409b64(0x28d)]('DOMContentLoaded',function(){((async()=>{const _0x428794=_0x1775,_0x433347=document[_0x428794(0x24d)](_0x428794(0x22d)),_0x4502dc=document[_0x428794(0x24d)](_0x428794(0x270)),_0x3c935d=document['getElementById']('sendButton'),_0x4aaf57=document[_0x428794(0x24d)]('settingsButton'),_0x193686=document[_0x428794(0x24d)]('settingsModal'),_0x1a6838=document[_0x428794(0x24d)](_0x428794(0x292)),_0xbd2a83=document[_0x428794(0x24d)](_0x428794(0x203)),_0x445610=document[_0x428794(0x24d)](_0x428794(0x1f8)),_0x2ae792=document[_0x428794(0x24d)](_0x428794(0x26b)),_0x57842c=document[_0x428794(0x24d)](_0x428794(0x24a)),_0x379599=document[_0x428794(0x24d)](_0x428794(0x2c1)),_0x18040d=document['getElementById']('newChatButton'),_0x55d0b6=document[_0x428794(0x24d)](_0x428794(0x2be)),_0x2f49f4=document[_0x428794(0x24d)](_0x428794(0x205)),_0x3a48b8=document[_0x428794(0x24d)]('editCharacterForm'),_0x6015b7=document['getElementById'](_0x428794(0x1e6)),_0x3797e9=document[_0x428794(0x24d)]('apiKeyInput'),_0x25fc1d=document[_0x428794(0x24d)](_0x428794(0x1e7)),_0x3715ba=document[_0x428794(0x24d)](_0x428794(0x257)),_0x454a20=document[_0x428794(0x24d)](_0x428794(0x1e1)),_0x3e3516=document['getElementById'](_0x428794(0x22c)),_0x4da73f=document[_0x428794(0x24d)](_0x428794(0x23e)),_0x2eb52d=document[_0x428794(0x24d)](_0x428794(0x1e9)),_0x40f75a=document[_0x428794(0x24d)](_0x428794(0x251)),_0x1a9102=document[_0x428794(0x24d)](_0x428794(0x221)),_0x187efa=document[_0x428794(0x24d)](_0x428794(0x20d)),_0x2a9177=document['getElementById']('topPValue'),_0x50ed49=document[_0x428794(0x24d)](_0x428794(0x21a)),_0x5b685d=document[_0x428794(0x24d)]('customInstructions'),_0x2de589=document[_0x428794(0x24d)]('customImpersonateInstructions'),_0x17bc2d=document[_0x428794(0x24d)]('applyButton'),_0x415383=document[_0x428794(0x24d)](_0x428794(0x2ba)),_0x35fb82=document[_0x428794(0x24d)](_0x428794(0x29e)),_0xc885c4=document[_0x428794(0x2bd)](_0x428794(0x26f)),_0xf4a6bf=document[_0x428794(0x24d)](_0x428794(0x283)),_0x1a44f4=document[_0x428794(0x24d)](_0x428794(0x2bc)),_0x2b8c0b=document[_0x428794(0x24d)]('saveChatButton'),_0x32548e=document[_0x428794(0x24d)](_0x428794(0x1e5)),_0x12f7f5=document['getElementById'](_0x428794(0x20b)),_0x35e2b9=document['createElement'](_0x428794(0x268));_0x35e2b9['id']=_0x428794(0x21f),_0x35e2b9['style']['display']=_0x428794(0x2a9),_0x35e2b9[_0x428794(0x27b)][_0x428794(0x225)]=_0x428794(0x269),_0x35e2b9[_0x428794(0x27b)]['top']='0',_0x35e2b9['style'][_0x428794(0x2b2)]='0',_0x35e2b9[_0x428794(0x27b)][_0x428794(0x27a)]=_0x428794(0x24e),_0x35e2b9[_0x428794(0x27b)]['height']='100%',_0x35e2b9[_0x428794(0x27b)][_0x428794(0x299)]='rgba(0,\x200,\x200,\x200.8)',_0x35e2b9[_0x428794(0x27b)]['zIndex']='1000',_0x35e2b9[_0x428794(0x27b)]['justifyContent']=_0x428794(0x290),_0x35e2b9[_0x428794(0x27b)][_0x428794(0x29a)]=_0x428794(0x290);const _0xa7cc84=document[_0x428794(0x222)](_0x428794(0x277));_0xa7cc84['style'][_0x428794(0x28c)]=_0x428794(0x2c5),_0xa7cc84[_0x428794(0x27b)][_0x428794(0x2b7)]=_0x428794(0x2c5),_0x35e2b9[_0x428794(0x2ac)](_0xa7cc84),document['body'][_0x428794(0x2ac)](_0x35e2b9);let _0x11d768=null,_0x23bacd=[],_0x43c24c=[],_0x5993bf=null;const _0x36cca2=new URLSearchParams(window[_0x428794(0x273)][_0x428794(0x2c9)]),_0x283ee1=_0x36cca2[_0x428794(0x21b)]('character'),_0x3293eb=_0x428794(0x24c),_0x3f6ef8=0x1,_0x4f168a=_0x428794(0x28f),_0x4923cb=_0x428794(0x258);let _0x3acea4,_0x1b1c75=null;const _0x576c4f=[{'category':HarmCategory['HARM_CATEGORY_SEXUALLY_EXPLICIT'],'threshold':HarmBlockThreshold[_0x428794(0x295)]},{'category':HarmCategory[_0x428794(0x28e)],'threshold':HarmBlockThreshold[_0x428794(0x295)]},{'category':HarmCategory[_0x428794(0x23b)],'threshold':HarmBlockThreshold[_0x428794(0x295)]},{'category':HarmCategory['HARM_CATEGORY_HATE_SPEECH'],'threshold':HarmBlockThreshold[_0x428794(0x295)]}];let _0x35d86b={'stopSequences':[],'maxOutputTokens':0x12c,'temperature':0x1,'topP':0.95,'topK':0x28,'presencePenalty':0.5,'frequencyPenalty':0.7};function _0x4e21af(){return new Promise((_0x44bdca,_0x10c604)=>{const _0x349de7=_0x1775,_0x3adf8b=window['indexedDB'][_0x349de7(0x20c)](_0x3293eb,_0x3f6ef8);_0x3adf8b[_0x349de7(0x280)]=_0x544269=>{const _0x400f3b=_0x349de7;console['error'](_0x400f3b(0x2d0),_0x544269),_0x10c604('IndexedDB\x20Error:\x20'+_0x544269[_0x400f3b(0x1de)][_0x400f3b(0x2cf)]);},_0x3adf8b['onsuccess']=_0x1b7e91=>{const _0x2aa373=_0x349de7;_0x3acea4=_0x1b7e91['target']['result'],console['log'](_0x2aa373(0x2b8)),_0x44bdca();},_0x3adf8b[_0x349de7(0x298)]=_0x49e898=>{const _0x17103f=_0x349de7;_0x3acea4=_0x49e898['target'][_0x17103f(0x226)];const _0xf85b59=_0x3acea4[_0x17103f(0x2ce)](_0x4f168a,{'keyPath':'id'}),_0x56f721=_0x3acea4[_0x17103f(0x2ce)](_0x4923cb,{'keyPath':_0x17103f(0x286)});console[_0x17103f(0x206)](_0x17103f(0x1fb)),_0x44bdca();};});}async function _0x4b3ca7(_0x58e2b2){return new Promise((_0x4b5ad7,_0x568413)=>{const _0x3ccef6=_0x1775,_0xe820e6=_0x3acea4[_0x3ccef6(0x1ec)]([_0x4f168a],_0x3ccef6(0x241)),_0x3429bd=_0xe820e6[_0x3ccef6(0x2a1)](_0x4f168a),_0x491abf=_0x3429bd[_0x3ccef6(0x21b)](parseInt(_0x58e2b2));_0x491abf[_0x3ccef6(0x280)]=_0x361aae=>{const _0x1aada1=_0x3ccef6;console[_0x1aada1(0x1f9)](_0x1aada1(0x25e),_0x361aae),_0x568413(_0x1aada1(0x1f6)+_0x361aae[_0x1aada1(0x1de)][_0x1aada1(0x2cf)]);},_0x491abf[_0x3ccef6(0x20f)]=_0x482683=>{const _0x580ed5=_0x3ccef6;_0x4b5ad7(_0x482683[_0x580ed5(0x1de)][_0x580ed5(0x226)]);};});}async function _0xd6723a(_0x1fbf63){return new Promise((_0x442760,_0x36f58c)=>{const _0x548eb9=_0x1775,_0x4ce2cc=_0x3acea4[_0x548eb9(0x1ec)]([_0x4f168a],_0x548eb9(0x259)),_0x451d47=_0x4ce2cc['objectStore'](_0x4f168a),_0x10fbc2=_0x451d47[_0x548eb9(0x1ef)](_0x1fbf63);_0x10fbc2['onerror']=_0x5400b0=>{const _0x524444=_0x548eb9;console[_0x524444(0x1f9)]('Failed\x20to\x20update\x20charachter\x20to\x20DB',_0x5400b0),_0x36f58c(_0x524444(0x1f6)+_0x5400b0[_0x524444(0x1de)][_0x524444(0x2cf)]);},_0x10fbc2[_0x548eb9(0x20f)]=()=>{_0x442760();};});}function _0x8a54b(){const _0x285d53=_0x428794;if(_0x11d768&&_0x23bacd[_0x285d53(0x25a)]>0x0){const _0x329213=_0x285d53(0x29f)+_0x11d768['id'];localStorage[_0x285d53(0x289)](_0x329213,JSON[_0x285d53(0x27e)](_0x23bacd));}}function _0x5c48ef(){const _0x199ab8=_0x428794;if(_0x11d768){const _0x44bbb7=_0x199ab8(0x29f)+_0x11d768['id'],_0x187394=localStorage[_0x199ab8(0x2a8)](_0x44bbb7);_0x187394&&(_0x23bacd=JSON[_0x199ab8(0x293)](_0x187394),_0x23bacd[_0x199ab8(0x1e3)](_0x2eee25=>{const _0x504544=_0x199ab8;_0x3f4387(_0x2eee25['sender'],_0x2eee25[_0x504544(0x2ab)],_0x2eee25[_0x504544(0x211)],_0x23bacd[_0x504544(0x2b1)](_0x2eee25));}));}}async function _0x4982f4(_0x56db02){return new Promise((_0xe98acc,_0x1bec2f)=>{const _0x4293d3=_0x1775,_0x3e9bab=_0x3acea4[_0x4293d3(0x1ec)]([_0x4923cb],'readonly'),_0xfd7f0d=_0x3e9bab[_0x4293d3(0x2a1)](_0x4923cb),_0x45f05a=_0xfd7f0d[_0x4293d3(0x21b)](_0x56db02);_0x45f05a[_0x4293d3(0x280)]=_0x12d519=>{const _0x3ff156=_0x4293d3;console[_0x3ff156(0x1f9)]('Failed\x20to\x20get\x20images\x20from\x20DB',_0x12d519),_0x1bec2f('IndexedDB\x20Error:\x20'+_0x12d519[_0x3ff156(0x1de)][_0x3ff156(0x2cf)]);},_0x45f05a[_0x4293d3(0x20f)]=_0x48c9ca=>{const _0x35c865=_0x4293d3;_0x48c9ca[_0x35c865(0x1de)][_0x35c865(0x226)]?_0xe98acc(_0x48c9ca[_0x35c865(0x1de)][_0x35c865(0x226)][_0x35c865(0x25b)]):_0xe98acc([]);};});}async function _0x4c55be(){const _0x445589=_0x428794;if(_0x283ee1){_0x11d768=await _0x4b3ca7(_0x283ee1);if(_0x11d768){_0x1a44f4[_0x445589(0x2a4)]=_0x11d768[_0x445589(0x240)];_0x11d768[_0x445589(0x1ee)]?_0xf4a6bf[_0x445589(0x2d2)]=_0x11d768[_0x445589(0x1ee)]:_0xf4a6bf['src']=_0x445589(0x274)+_0x11d768['name'][0x0];const _0x7c5661=localStorage[_0x445589(0x2a8)](_0x445589(0x2cb));_0x7c5661&&(_0x35d86b=JSON[_0x445589(0x293)](_0x7c5661),_0x25fc1d[_0x445589(0x217)]=_0x35d86b['maxOutputTokens'],_0x454a20[_0x445589(0x217)]=_0x35d86b[_0x445589(0x231)],_0x3e3516[_0x445589(0x2a4)]=_0x35d86b[_0x445589(0x231)],_0x4da73f[_0x445589(0x217)]=_0x35d86b['presencePenalty'],_0x2eb52d[_0x445589(0x2a4)]=_0x35d86b[_0x445589(0x2ad)],_0x40f75a[_0x445589(0x217)]=_0x35d86b['frequencyPenalty'],_0x1a9102[_0x445589(0x2a4)]=_0x35d86b['frequencyPenalty'],_0x187efa[_0x445589(0x217)]=_0x35d86b[_0x445589(0x20e)],_0x2a9177[_0x445589(0x2a4)]=_0x35d86b['topP'],_0x50ed49[_0x445589(0x217)]=_0x35d86b[_0x445589(0x23a)],_0x5b685d[_0x445589(0x217)]=localStorage[_0x445589(0x2a8)]('customInstructions'),_0x2de589[_0x445589(0x217)]=localStorage['getItem'](_0x445589(0x2a2))||_0x445589(0x2a7)),_0x5c48ef(),_0x5e8eb7(_0x11d768);}}}function _0x3f4387(_0x9932f9,_0x482b77,_0x57e831,_0x549ca9){const _0x158c89=_0x428794;let _0x497a3e=null;if(_0x57e831){_0x497a3e=document[_0x158c89(0x222)](_0x158c89(0x268)),_0x497a3e[_0x158c89(0x271)][_0x158c89(0x213)](_0x158c89(0x266));_0x9932f9===_0x158c89(0x275)?_0x497a3e[_0x158c89(0x271)][_0x158c89(0x213)](_0x158c89(0x216)):_0x497a3e[_0x158c89(0x271)][_0x158c89(0x213)](_0x158c89(0x1f3));const _0x1c2222=document[_0x158c89(0x222)](_0x158c89(0x268));_0x1c2222[_0x158c89(0x202)]='';const _0x55125f=document[_0x158c89(0x222)]('img');_0x55125f['src']=_0x57e831,_0x55125f[_0x158c89(0x27b)][_0x158c89(0x28c)]=_0x158c89(0x1f0),_0x55125f['style']['maxHeight']='200px',_0x55125f[_0x158c89(0x28d)](_0x158c89(0x252),()=>{const _0x2856a6=_0x158c89;_0xa7cc84[_0x2856a6(0x2d2)]=_0x57e831,_0x35e2b9[_0x2856a6(0x27b)][_0x2856a6(0x2bf)]=_0x2856a6(0x281);}),_0x1c2222['appendChild'](_0x55125f),_0x497a3e[_0x158c89(0x2ac)](_0x1c2222),_0x433347[_0x158c89(0x2ac)](_0x497a3e),_0x433347[_0x158c89(0x291)]=_0x433347[_0x158c89(0x27c)];}if(_0x482b77){_0x497a3e=document['createElement']('div'),_0x497a3e[_0x158c89(0x271)][_0x158c89(0x213)](_0x158c89(0x266));_0x9932f9===_0x158c89(0x275)?_0x497a3e[_0x158c89(0x271)][_0x158c89(0x213)](_0x158c89(0x216)):_0x497a3e[_0x158c89(0x271)]['add'](_0x158c89(0x1f3));const _0x2fd20c=document[_0x158c89(0x222)](_0x158c89(0x268));_0x2fd20c[_0x158c89(0x202)]='';let _0x32928d=_0x482b77['replace'](/\n/g,_0x158c89(0x220));_0x32928d=_0x32928d[_0x158c89(0x27d)](/\*\*(.*?)\*\*/g,_0x158c89(0x236));const _0x49d7bf=_0x32928d[_0x158c89(0x2aa)]('*');_0x49d7bf['forEach']((_0x518f1e,_0x3bc015)=>{const _0x4d0bce=_0x158c89,_0x56f113=document[_0x4d0bce(0x222)](_0x4d0bce(0x2a0));_0x3bc015%0x2===0x1&&(_0x56f113[_0x4d0bce(0x261)]=_0x4d0bce(0x230),_0x56f113[_0x4d0bce(0x27b)][_0x4d0bce(0x22e)]=_0x4d0bce(0x23c),_0x56f113[_0x4d0bce(0x27b)]['color']=_0x4d0bce(0x23c)),_0x56f113[_0x4d0bce(0x202)]=_0x518f1e,_0x2fd20c['appendChild'](_0x56f113);}),_0x497a3e[_0x158c89(0x2ac)](_0x2fd20c);if(_0x9932f9!=='user'){const _0x12c363=document[_0x158c89(0x222)](_0x158c89(0x2a0));_0x12c363[_0x158c89(0x271)][_0x158c89(0x213)]('edit-button'),_0x12c363[_0x158c89(0x202)]=_0x158c89(0x237),_0x12c363[_0x158c89(0x28d)](_0x158c89(0x252),()=>_0x3a293d(_0x497a3e,_0x549ca9)),_0x497a3e['appendChild'](_0x12c363);}_0x433347['appendChild'](_0x497a3e),_0x433347[_0x158c89(0x291)]=_0x433347[_0x158c89(0x27c)];}return _0x497a3e;}function _0x3a293d(_0x5166db,_0x55a674){const _0x2ae268=_0x428794,_0x1c9171=_0x5166db[_0x2ae268(0x288)]('div');if(!_0x1c9171)return;const _0x55fc87=_0x23bacd[_0x55a674][_0x2ae268(0x2ab)];_0x1c9171[_0x2ae268(0x243)]=_0x2ae268(0x285),_0x1c9171['textContent']=_0x55fc87[_0x2ae268(0x27d)](/<br>/g,'\x0a'),_0x1c9171[_0x2ae268(0x264)]();const _0x5c5775=document[_0x2ae268(0x222)](_0x2ae268(0x23d));_0x5c5775[_0x2ae268(0x2a4)]='Save',_0x5c5775[_0x2ae268(0x271)][_0x2ae268(0x213)](_0x2ae268(0x262));const _0x11ceaf=document[_0x2ae268(0x222)]('button');_0x11ceaf[_0x2ae268(0x2a4)]=_0x2ae268(0x2a5),_0x11ceaf[_0x2ae268(0x271)][_0x2ae268(0x213)]('cancel-button');const _0x37fe4f=_0x5166db['querySelector'](_0x2ae268(0x22b));_0x37fe4f&&(_0x37fe4f[_0x2ae268(0x27b)]['display']=_0x2ae268(0x2a9)),_0x5166db[_0x2ae268(0x2ac)](_0x5c5775),_0x5166db['appendChild'](_0x11ceaf),_0x5c5775['addEventListener'](_0x2ae268(0x252),()=>{const _0x5afc58=_0x2ae268,_0x5d3fc7=_0x1c9171[_0x5afc58(0x2a4)];_0x23bacd[_0x55a674]['text']=_0x5d3fc7,_0x8a54b(),_0x5e8eb7(_0x11d768),_0x1c9171[_0x5afc58(0x243)]=_0x5afc58(0x245),_0x5c5775['remove'](),_0x11ceaf[_0x5afc58(0x2c7)]();_0x37fe4f&&(_0x37fe4f['style'][_0x5afc58(0x2bf)]=_0x5afc58(0x25f));const _0xc6b4a9=_0x5d3fc7['replace'](/\n/g,_0x5afc58(0x220))['replace'](/\*\*(.*?)\*\*/g,'<strong\x20style=\x22color:black;\x22>$1</strong>'),_0x312bc8=_0xc6b4a9[_0x5afc58(0x2aa)]('*');_0x1c9171['innerHTML']='',_0x312bc8[_0x5afc58(0x1e3)]((_0x18b2b5,_0x3932c1)=>{const _0x432687=_0x5afc58,_0x18148e=document['createElement'](_0x432687(0x2a0));_0x3932c1%0x2===0x1&&(_0x18148e[_0x432687(0x261)]=_0x432687(0x230),_0x18148e['style']['color']=_0x432687(0x23c)),_0x18148e[_0x432687(0x202)]=_0x18b2b5,_0x1c9171[_0x432687(0x2ac)](_0x18148e);});}),_0x11ceaf[_0x2ae268(0x28d)](_0x2ae268(0x252),()=>{const _0x3d3b25=_0x2ae268,_0x4a6ee0=_0x55fc87[_0x3d3b25(0x27d)](/\n/g,_0x3d3b25(0x220))[_0x3d3b25(0x27d)](/\*\*(.*?)\*\*/g,_0x3d3b25(0x236)),_0xe3fee6=_0x4a6ee0[_0x3d3b25(0x2aa)]('*');_0x1c9171[_0x3d3b25(0x202)]='',_0xe3fee6[_0x3d3b25(0x1e3)]((_0x36d25a,_0x265602)=>{const _0x4d0e93=_0x3d3b25,_0x4a4c4e=document[_0x4d0e93(0x222)](_0x4d0e93(0x2a0));_0x265602%0x2===0x1&&(_0x4a4c4e['className']=_0x4d0e93(0x230),_0x4a4c4e[_0x4d0e93(0x27b)][_0x4d0e93(0x22e)]=_0x4d0e93(0x23c)),_0x4a4c4e[_0x4d0e93(0x202)]=_0x36d25a,_0x1c9171[_0x4d0e93(0x2ac)](_0x4a4c4e);}),_0x1c9171[_0x3d3b25(0x243)]='false',_0x5c5775[_0x3d3b25(0x2c7)](),_0x11ceaf[_0x3d3b25(0x2c7)](),_0x37fe4f&&(_0x37fe4f[_0x3d3b25(0x27b)][_0x3d3b25(0x2bf)]='inline');});}function _0x224660(){const _0x2788e2=_0x428794;_0x23bacd=[],_0x433347[_0x2788e2(0x202)]='';if(_0x11d768){const _0x544ed7=_0x2788e2(0x29f)+_0x11d768['id'];localStorage[_0x2788e2(0x287)](_0x544ed7),_0x5e8eb7(_0x11d768);}}function _0x3bc9a8(){const _0x380119=_0x428794;_0x11d768&&(document[_0x380119(0x24d)](_0x380119(0x276))['value']=_0x11d768[_0x380119(0x240)],document[_0x380119(0x24d)]('editPersonality')[_0x380119(0x217)]=_0x11d768[_0x380119(0x1e2)],document[_0x380119(0x24d)](_0x380119(0x2a6))[_0x380119(0x217)]=_0x11d768['scenario'],document[_0x380119(0x24d)](_0x380119(0x1f4))['value']=_0x11d768[_0x380119(0x23f)],_0x3715ba['value']=_0x11d768['id']);}async function _0x40e868(){const _0x3f1693=_0x428794,_0x56978d=localStorage[_0x3f1693(0x2a8)](_0x3f1693(0x208))||_0x3797e9[_0x3f1693(0x217)];if(!_0x56978d){alert('Please\x20enter\x20API\x20key\x20first\x20then\x20refresh\x20the\x20page');return;}const _0x74d25e=new GoogleGenerativeAI(_0x56978d),_0x2ef771=_0x74d25e[_0x3f1693(0x29d)]({'model':'gemini-2.0-flash','safetySettings':_0x576c4f});_0x2ef771[_0x3f1693(0x2cb)]=_0x35d86b;let _0x51c013=_0x2de589['value']||_0x3f1693(0x2a7),_0x44d84d='';_0x23bacd[_0x3f1693(0x1e3)](_0x13f25e=>{const _0x5d3053=_0x3f1693,_0x25f726=_0x13f25e[_0x5d3053(0x1f2)]===_0x5d3053(0x275)?_0x5d3053(0x254):_0x5d3053(0x25c);_0x44d84d+=_0x25f726+':\x20'+_0x13f25e[_0x5d3053(0x2ab)]+'\x0a';}),_0x51c013=_0x51c013['replace'](_0x3f1693(0x254),_0x3f1693(0x28a))[_0x3f1693(0x27d)](_0x3f1693(0x25c),_0x11d768[_0x3f1693(0x240)]);let _0x560270=[{'text':_0x44d84d+_0x3f1693(0x2bb)+_0x51c013}];_0x4502dc[_0x3f1693(0x217)]='';try{const _0x518232=await _0x2ef771[_0x3f1693(0x1e0)](_0x560270);for await(const _0x4e29fd of _0x518232[_0x3f1693(0x1fd)]){const _0xf63688=_0x4e29fd[_0x3f1693(0x2ab)]();_0x4502dc['value']+=_0xf63688;}return _0x3f1693(0x210);}catch(_0x362a9a){return console[_0x3f1693(0x1f9)]('Error\x20generating\x20impersonated\x20content:',_0x362a9a),alert(_0x3f1693(0x253)),'error';}}async function _0x46b649(_0x1051c8,_0x5d31f6,_0x5220dc=null){const _0x16e741=_0x428794;let _0x401cc3=null;const _0xfb3679=[_0x16e741(0x2b3),_0x16e741(0x211),_0x16e741(0x1f5),'pap',_0x16e741(0x26a),'gambar'],_0x2b0a22=_0xfb3679[_0x16e741(0x26d)](_0x1aba7b=>_0x1051c8['toLowerCase']()['includes'](_0x1aba7b));_0x5d31f6?(_0x5d31f6[_0x16e741(0x288)](_0x16e741(0x268))[_0x16e741(0x202)]='Typing...',_0x401cc3=_0x5d31f6):_0x401cc3=_0x3f4387('bot',_0x16e741(0x209));const _0x2df3af=localStorage[_0x16e741(0x2a8)](_0x16e741(0x208))||_0x3797e9[_0x16e741(0x217)];if(!_0x2df3af){_0x401cc3?_0x401cc3[_0x16e741(0x288)](_0x16e741(0x268))[_0x16e741(0x2a4)]=_0x16e741(0x1fc):_0x3f4387(_0x16e741(0x29c),_0x16e741(0x1fc));return;}if(!_0x5993bf)return _0x401cc3?_0x401cc3&&(_0x401cc3['querySelector']('div')[_0x16e741(0x2a4)]=_0x16e741(0x242)):_0x3f4387(_0x16e741(0x29c),_0x16e741(0x242)),'error';let _0x27b017=null,_0x3dd539=null;try{_0x35d86b['temperature']=parseFloat(_0x454a20[_0x16e741(0x217)]),_0x35d86b[_0x16e741(0x20e)]=parseFloat(_0x187efa[_0x16e741(0x217)]),_0x35d86b[_0x16e741(0x23a)]=parseInt(_0x50ed49['value']),_0x35d86b[_0x16e741(0x1eb)]=parseInt(_0x25fc1d[_0x16e741(0x217)]),_0x35d86b[_0x16e741(0x2ad)]=parseFloat(_0x4da73f['value']),_0x35d86b[_0x16e741(0x233)]=parseFloat(_0x40f75a[_0x16e741(0x217)]),_0x5993bf['generationConfig']=_0x35d86b;let _0xf26f1a=[];_0x5220dc&&_0xf26f1a[_0x16e741(0x2af)]({'inlineData':{'data':_0x5220dc[_0x16e741(0x1df)],'mimeType':_0x5220dc[_0x16e741(0x20a)]}});_0xf26f1a[_0x16e741(0x2af)]({'text':_0x1051c8});const _0x47cb69=await _0x5993bf[_0x16e741(0x2b9)](_0xf26f1a),_0xd8209e=await _0x47cb69['response'];_0x3dd539=await _0xd8209e[_0x16e741(0x2ab)]();if(_0x2b0a22){const _0x341ce0=await _0x4982f4(_0x11d768['id']);if(_0x341ce0&&_0x341ce0[_0x16e741(0x25a)]>0x0){const _0xc3cfd6=Math[_0x16e741(0x232)](Math[_0x16e741(0x1e8)]()*_0x341ce0[_0x16e741(0x25a)]);_0x27b017=_0x341ce0[_0xc3cfd6];}}}catch(_0x3a218c){return console['error'](_0x16e741(0x2ca),_0x3a218c),_0x401cc3?_0x401cc3&&(_0x401cc3[_0x16e741(0x288)]('div')[_0x16e741(0x2a4)]=_0x16e741(0x272)):_0x3f4387('bot','Failed\x20to\x20generate\x20response,\x20check\x20console'),_0x16e741(0x1f9);}_0x401cc3&&_0x401cc3['remove']();const _0x38e90f=_0x23bacd['length'];return _0x3f4387(_0x11d768[_0x16e741(0x240)],_0x3dd539,_0x27b017,_0x38e90f),{'text':_0x3dd539,'image':_0x27b017};}function _0x5e8eb7(_0x2e24d6){const _0x575d87=_0x428794,_0x5e355b=localStorage[_0x575d87(0x2a8)]('apiKey')||_0x3797e9[_0x575d87(0x217)];if(!_0x5e355b){_0x3f4387(_0x575d87(0x29c),_0x575d87(0x218));return;}const _0x29058c=new GoogleGenerativeAI(_0x5e355b),_0x149003=_0x29058c['getGenerativeModel']({'model':_0x575d87(0x21d),'tools':[{'google_search':{}}],'safetySettings':_0x576c4f});_0x43c24c=[];let _0x4450f1='You\x20will\x20portray\x20'+_0x2e24d6[_0x575d87(0x240)]+_0x575d87(0x2a3)+_0x5b685d['value']+_0x575d87(0x2bb)+_0x2e24d6['personality']+'.\x20\x0a\x20Scenario:\x20'+_0x2e24d6[_0x575d87(0x2b5)]+'.';_0x2e24d6[_0x575d87(0x260)]&&_0x2e24d6[_0x575d87(0x260)][_0x575d87(0x25a)]>0x0&&(_0x4450f1+='\x0a\x0aThis\x20is\x20a\x20lorebook,\x20use\x20this\x20as\x20guidance:\x0a',_0x2e24d6[_0x575d87(0x260)][_0x575d87(0x1e3)]((_0x1cc3b2,_0x41d9f9)=>{const _0x13e6fb=_0x575d87;typeof _0x1cc3b2===_0x13e6fb(0x26c)?_0x4450f1+=_0x13e6fb(0x235)+(_0x41d9f9+0x1)+':\x0a'+_0x1cc3b2+'\x0a':_0x4450f1+=_0x13e6fb(0x235)+(_0x41d9f9+0x1)+':\x0a'+JSON[_0x13e6fb(0x27e)](_0x1cc3b2)+'\x0a';}));const _0x529a22={'role':_0x575d87(0x275),'parts':[{'text':_0x4450f1}]};_0x43c24c[_0x575d87(0x2af)](_0x529a22);_0x23bacd&&_0x23bacd[_0x575d87(0x25a)]>0x0&&_0x23bacd[_0x575d87(0x1e3)](_0x3119f1=>{const _0x5d93f7=_0x575d87;_0x3119f1['sender']===_0x5d93f7(0x275)?(_0x3119f1[_0x5d93f7(0x211)]&&_0x43c24c['push']({'role':_0x5d93f7(0x275),'parts':[{'inlineData':{'data':_0x3119f1[_0x5d93f7(0x211)][_0x5d93f7(0x1df)],'mimeType':_0x3119f1[_0x5d93f7(0x211)][_0x5d93f7(0x20a)]}}]}),_0x3119f1['text']&&_0x43c24c[_0x5d93f7(0x2af)]({'role':_0x5d93f7(0x275),'parts':[{'text':_0x3119f1['text']}]})):_0x3119f1[_0x5d93f7(0x2ab)]&&_0x43c24c[_0x5d93f7(0x2af)]({'role':'model','parts':[{'text':_0x3119f1['text']}]});});_0x35d86b[_0x575d87(0x231)]=parseFloat(_0x454a20[_0x575d87(0x217)]),_0x35d86b['topP']=parseFloat(_0x187efa['value']),_0x35d86b[_0x575d87(0x23a)]=parseInt(_0x50ed49['value']),_0x35d86b[_0x575d87(0x1eb)]=parseInt(_0x25fc1d[_0x575d87(0x217)]),_0x35d86b[_0x575d87(0x2ad)]=parseFloat(_0x4da73f[_0x575d87(0x217)]),_0x35d86b[_0x575d87(0x233)]=parseFloat(_0x40f75a[_0x575d87(0x217)]),_0x5993bf=_0x149003['startChat']({'history':_0x43c24c,'generationConfig':_0x35d86b});if(!_0x23bacd||_0x23bacd[_0x575d87(0x25a)]===0x0){const _0x372906={'role':_0x575d87(0x279),'parts':[{'text':_0x2e24d6[_0x575d87(0x23f)]}]};_0x43c24c[_0x575d87(0x2af)](_0x372906),_0x3f4387(_0x11d768[_0x575d87(0x240)],_0x2e24d6['greeting']);}}function _0x205dd6(){const _0x4b7e86=_0x428794,_0x4441d9=_0x433347[_0x4b7e86(0x21c)];_0x4441d9&&_0x4441d9[_0x4b7e86(0x271)][_0x4b7e86(0x24b)]('bot-message')&&_0x433347['removeChild'](_0x4441d9);}function _0x1be788(){const _0xb46e21=_0x428794,_0x2608ae=_0x433347[_0xb46e21(0x223)];let _0x38db47='';for(let _0x3ca261=_0x2608ae[_0xb46e21(0x25a)]-0x1;_0x3ca261>=0x0;_0x3ca261--){if(_0x2608ae[_0x3ca261][_0xb46e21(0x271)][_0xb46e21(0x24b)](_0xb46e21(0x216))&&_0x2608ae[_0x3ca261][_0xb46e21(0x288)](_0xb46e21(0x277))==null)return _0x38db47=_0x2608ae[_0x3ca261]['querySelector'](_0xb46e21(0x268))['textContent'][_0xb46e21(0x296)](),_0x38db47;}return _0x38db47;}function _0x33658b(){const _0x5b0409=_0x428794,_0x5d3f52=_0x4502dc[_0x5b0409(0x217)]['trim']();_0x1b1c75&&(_0x3f4387('user',null,_0x1b1c75),_0x23bacd['push']({'sender':_0x5b0409(0x275),'text':null,'image':_0x1b1c75}),_0x35fb82[_0x5b0409(0x27b)][_0x5b0409(0x2bf)]=_0x5b0409(0x25d));if(_0x5d3f52){const _0x599ae4=_0x23bacd['length'];_0x3f4387(_0x5b0409(0x275),_0x5d3f52,null,_0x599ae4),_0x23bacd[_0x5b0409(0x2af)]({'sender':'user','text':_0x5d3f52,'image':null});}_0x4502dc['value']='';let _0x3ad296=null;(_0x5d3f52||_0x1b1c75)&&(_0x3ad296=_0x3f4387('bot',_0x5b0409(0x209))),_0x46b649(_0x5d3f52,_0x3ad296,_0x1b1c75)[_0x5b0409(0x2ae)](_0x2e5017=>{const _0x23be91=_0x5b0409;_0x2e5017!=='error'&&(_0x23bacd[_0x23be91(0x2af)]({'sender':_0x23be91(0x29c),'text':_0x2e5017[_0x23be91(0x2ab)],'image':_0x2e5017[_0x23be91(0x211)]}),_0x8a54b()),_0x1b1c75=null,_0x35fb82[_0x23be91(0x27b)][_0x23be91(0x2bf)]=_0x23be91(0x2a9);});}async function _0x4b5711(){const _0x2beb0c=_0x428794,_0xf2ab34=_0x1be788();if(_0xf2ab34[_0x2beb0c(0x296)]()==='')return;_0x205dd6();_0x23bacd[_0x2beb0c(0x25a)]>0x0&&_0x23bacd[_0x23bacd[_0x2beb0c(0x25a)]-0x1][_0x2beb0c(0x1f2)]==='bot'&&_0x23bacd['pop']();_0x43c24c['length']>0x1&&_0x43c24c[_0x43c24c[_0x2beb0c(0x25a)]-0x1][_0x2beb0c(0x2d1)]===_0x2beb0c(0x279)&&_0x43c24c[_0x2beb0c(0x1ea)]();const _0x2152ec=_0x3f4387(_0x2beb0c(0x29c),_0x2beb0c(0x284));_0x46b649(_0xf2ab34,_0x2152ec)[_0x2beb0c(0x2ae)](_0x417019=>{const _0x3b3d81=_0x2beb0c;_0x417019!==_0x3b3d81(0x1f9)&&(_0x23bacd[_0x3b3d81(0x2af)]({'sender':'bot','text':_0x417019[_0x3b3d81(0x2ab)],'image':_0x417019[_0x3b3d81(0x211)]}),_0x8a54b());});}async function _0x4c04f3(){const _0x3548e6=_0x428794,_0x51ff95=parseInt(_0x3715ba[_0x3548e6(0x217)]),_0x4febcd=_0x6015b7[_0x3548e6(0x2c0)][0x0];let _0x13a153={};const _0x273e8f=document['getElementById']('editLorebook'),_0x11c02f=_0x273e8f[_0x3548e6(0x2c0)];async function _0x13503a(_0x2580c2){const _0x5421ae=_0x3548e6,_0xd852bc=[];for(let _0x7fd91e=0x0;_0x7fd91e<_0x2580c2[_0x5421ae(0x25a)];_0x7fd91e++){const _0x2236a4=_0x2580c2[_0x7fd91e];try{const _0x163e64=await new Promise((_0x8132b6,_0x4cbc6a)=>{const _0x37a274=_0x5421ae,_0xe6b0a1=new FileReader();_0xe6b0a1[_0x37a274(0x256)]=_0x1d2736=>_0x8132b6(_0x1d2736[_0x37a274(0x1de)][_0x37a274(0x226)]),_0xe6b0a1[_0x37a274(0x280)]=_0x2b480b=>_0x4cbc6a(_0x2b480b),_0xe6b0a1[_0x37a274(0x2cd)](_0x2236a4);});try{_0xd852bc[_0x5421ae(0x2af)](JSON[_0x5421ae(0x293)](_0x163e64));}catch(_0x43c346){console[_0x5421ae(0x2c6)](_0x5421ae(0x239)+_0x2236a4[_0x5421ae(0x240)]+_0x5421ae(0x249),_0x43c346),_0xd852bc['push'](_0x163e64);}}catch(_0x13ed7a){console[_0x5421ae(0x1f9)](_0x5421ae(0x244)+_0x2236a4[_0x5421ae(0x240)]+':',_0x13ed7a);}}return _0xd852bc;}const _0x5969d2=await _0x13503a(_0x11c02f);if(_0x4febcd){const _0x998259=new FileReader();_0x998259[_0x3548e6(0x256)]=async function(_0x5e3380){const _0x4c50f1=_0x3548e6;_0x13a153={'id':_0x51ff95,'name':document[_0x4c50f1(0x24d)](_0x4c50f1(0x276))[_0x4c50f1(0x217)],'personality':document[_0x4c50f1(0x24d)](_0x4c50f1(0x2cc))[_0x4c50f1(0x217)],'scenario':document[_0x4c50f1(0x24d)](_0x4c50f1(0x2a6))[_0x4c50f1(0x217)],'greeting':document[_0x4c50f1(0x24d)]('editGreeting')['value'],'profilePic':_0x5e3380[_0x4c50f1(0x1de)][_0x4c50f1(0x226)],'lorebooks':_0x5969d2},await _0xd6723a(_0x13a153),_0x445610['style']['display']='none',_0x3a48b8[_0x4c50f1(0x28b)](),location[_0x4c50f1(0x207)]();},_0x998259['readAsDataURL'](_0x4febcd);}else{const _0x968ec8=await _0x4b3ca7(_0x51ff95);_0x13a153={'id':_0x51ff95,'name':document[_0x3548e6(0x24d)]('editName')[_0x3548e6(0x217)],'personality':document[_0x3548e6(0x24d)]('editPersonality')['value'],'scenario':document[_0x3548e6(0x24d)](_0x3548e6(0x2a6))[_0x3548e6(0x217)],'greeting':document[_0x3548e6(0x24d)](_0x3548e6(0x1f4))[_0x3548e6(0x217)],'profilePic':_0x968ec8[_0x3548e6(0x1ee)],'lorebooks':_0x5969d2[_0x3548e6(0x25a)]>0x0?_0x5969d2:_0x968ec8['lorebooks']},await _0xd6723a(_0x13a153),_0x445610['style'][_0x3548e6(0x2bf)]='none',_0x3a48b8[_0x3548e6(0x28b)](),location['reload']();}}function _0xf98c90(){const _0x12a9ee=_0x428794;if(_0x23bacd[_0x12a9ee(0x25a)]===0x0){alert('No\x20chat\x20history\x20to\x20save.');return;}const _0x3ac4c0=JSON[_0x12a9ee(0x27e)](_0x23bacd,null,0x2),_0x3cf234=new Blob([_0x3ac4c0],{'type':_0x12a9ee(0x1f1)}),_0x456a73=URL[_0x12a9ee(0x2c8)](_0x3cf234),_0x21cbeb=document['createElement']('a');_0x21cbeb[_0x12a9ee(0x224)]=_0x456a73,_0x21cbeb[_0x12a9ee(0x1ed)]=_0x12a9ee(0x247)+_0x11d768[_0x12a9ee(0x240)]+'_'+new Date()[_0x12a9ee(0x2b4)]()+_0x12a9ee(0x2c3),document['body'][_0x12a9ee(0x2ac)](_0x21cbeb),_0x21cbeb['click'](),document['body'][_0x12a9ee(0x21e)](_0x21cbeb),URL[_0x12a9ee(0x2c4)](_0x456a73);}function _0x1d7e35(){const _0x20aad4=_0x428794,_0x5eb7a0=document['createElement'](_0x20aad4(0x229));_0x5eb7a0[_0x20aad4(0x219)]=_0x20aad4(0x29b),_0x5eb7a0['accept']='application/json',_0x5eb7a0[_0x20aad4(0x1f7)]=_0x4089ca=>{const _0x36d40a=_0x20aad4,_0x47e6af=_0x4089ca[_0x36d40a(0x1de)][_0x36d40a(0x2c0)][0x0];if(_0x47e6af){const _0x749a07=new FileReader();_0x749a07[_0x36d40a(0x256)]=_0x2125fa=>{const _0x559328=_0x36d40a;try{const _0x1f46df=JSON[_0x559328(0x293)](_0x2125fa['target']['result']);Array[_0x559328(0x201)](_0x1f46df)?(_0x23bacd=_0x1f46df,_0x433347[_0x559328(0x202)]='',_0x23bacd[_0x559328(0x1e3)]((_0x3a7dcd,_0x175922)=>_0x3f4387(_0x3a7dcd[_0x559328(0x1f2)],_0x3a7dcd[_0x559328(0x2ab)],_0x3a7dcd['image'],_0x175922)),_0x8a54b(),_0x5e8eb7(_0x11d768)):alert('Invalid\x20file\x20format.\x20Please\x20upload\x20a\x20valid\x20chat\x20history\x20json\x20file.');}catch(_0x1ee669){alert(_0x559328(0x2c2));}},_0x749a07[_0x36d40a(0x2cd)](_0x47e6af);}},_0x5eb7a0['click']();}_0x415383['addEventListener'](_0x428794(0x252),()=>{const _0x31b9c9=_0x428794,_0x29f7dc=document['createElement']('input');_0x29f7dc[_0x31b9c9(0x219)]=_0x31b9c9(0x29b),_0x29f7dc[_0x31b9c9(0x263)]=_0x31b9c9(0x2b6),_0x29f7dc[_0x31b9c9(0x1f7)]=async _0x5e380c=>{const _0x19975f=_0x31b9c9,_0x20ddcc=_0x5e380c['target']['files'][0x0];if(_0x20ddcc){const _0x2d2b66=new FileReader();_0x2d2b66[_0x19975f(0x256)]=_0x1bf3f5=>{const _0x14710e=_0x19975f;_0x1b1c75={'data':_0x1bf3f5[_0x14710e(0x1de)]['result'][_0x14710e(0x2aa)](',')[0x1],'mimeType':_0x20ddcc[_0x14710e(0x219)]},_0x35fb82[_0x14710e(0x27b)][_0x14710e(0x2bf)]=_0x14710e(0x25d);},_0x2d2b66['readAsDataURL'](_0x20ddcc);}},_0x29f7dc['click']();}),_0x3c935d[_0x428794(0x28d)](_0x428794(0x252),_0x33658b),_0x2f49f4[_0x428794(0x28d)](_0x428794(0x252),_0x4b5711),_0x4502dc[_0x428794(0x28d)](_0x428794(0x22f),_0x28418e=>{const _0x23741f=_0x428794;_0x28418e[_0x23741f(0x27f)]===_0x23741f(0x255)&&(_0x28418e[_0x23741f(0x204)](),_0x33658b());}),_0x2b8c0b['addEventListener'](_0x428794(0x252),_0xf98c90),_0x32548e['addEventListener'](_0x428794(0x252),_0x1d7e35),_0x4aaf57[_0x428794(0x28d)](_0x428794(0x252),()=>{const _0x17ef77=_0x428794;_0x2ae792[_0x17ef77(0x271)][_0x17ef77(0x238)](_0x17ef77(0x246));}),_0x57842c['addEventListener'](_0x428794(0x252),()=>{const _0x2cf92f=_0x428794;_0x2ae792['classList'][_0x2cf92f(0x2c7)](_0x2cf92f(0x246)),_0x1a6838[_0x2cf92f(0x27b)]['display']=_0x2cf92f(0x265),document[_0x2cf92f(0x1e4)][_0x2cf92f(0x271)][_0x2cf92f(0x213)](_0x2cf92f(0x250));}),_0x379599[_0x428794(0x28d)](_0x428794(0x252),()=>{const _0xb5b398=_0x428794;_0x2ae792[_0xb5b398(0x271)][_0xb5b398(0x2c7)](_0xb5b398(0x246)),_0xbd2a83[_0xb5b398(0x27b)][_0xb5b398(0x2bf)]='block',document[_0xb5b398(0x1e4)][_0xb5b398(0x271)][_0xb5b398(0x213)](_0xb5b398(0x250));}),_0x18040d[_0x428794(0x28d)](_0x428794(0x252),()=>{const _0x4f3d87=_0x428794;_0x224660(),_0x2ae792[_0x4f3d87(0x271)][_0x4f3d87(0x2c7)](_0x4f3d87(0x246));}),_0x55d0b6[_0x428794(0x28d)](_0x428794(0x252),()=>{const _0x54c7a4=_0x428794;_0x2ae792[_0x54c7a4(0x271)][_0x54c7a4(0x2c7)]('show'),_0x3bc9a8(),_0x445610[_0x54c7a4(0x27b)]['display']='block',document[_0x54c7a4(0x1e4)]['classList']['add']('modal-open');}),_0xc885c4['forEach'](_0x2551d5=>{const _0x5785ce=_0x428794;_0x2551d5[_0x5785ce(0x28d)](_0x5785ce(0x252),()=>{const _0x1d8b4f=_0x5785ce;_0x1a6838[_0x1d8b4f(0x27b)][_0x1d8b4f(0x2bf)]=_0x1d8b4f(0x2a9),_0xbd2a83['style'][_0x1d8b4f(0x2bf)]=_0x1d8b4f(0x2a9),_0x445610[_0x1d8b4f(0x27b)][_0x1d8b4f(0x2bf)]='none',document['body'][_0x1d8b4f(0x271)][_0x1d8b4f(0x2c7)](_0x1d8b4f(0x250));});}),_0x35e2b9['addEventListener'](_0x428794(0x252),()=>{const _0x1fc0ba=_0x428794;_0x35e2b9['style'][_0x1fc0ba(0x2bf)]=_0x1fc0ba(0x2a9);}),_0x12f7f5['addEventListener'](_0x428794(0x252),async()=>{const _0x1ab640=await _0x40e868();}),window[_0x428794(0x28d)](_0x428794(0x22a),function(){const _0x364dc4=_0x428794,_0x222b3b=document[_0x364dc4(0x24d)](_0x364dc4(0x22d));window[_0x364dc4(0x1fa)]<0xc8?_0x222b3b['style'][_0x364dc4(0x26e)]='calc(100vh\x20-\x20130px)':_0x222b3b[_0x364dc4(0x27b)]['height']=_0x364dc4(0x200);}),window[_0x428794(0x28d)](_0x428794(0x252),_0x74a8d=>{const _0x196d4e=_0x428794;_0x74a8d['target']===_0x193686&&(_0x193686[_0x196d4e(0x27b)]['display']=_0x196d4e(0x2a9)),!_0x74a8d[_0x196d4e(0x1de)]['closest']('.dropdown')&&_0x2ae792[_0x196d4e(0x271)][_0x196d4e(0x2c7)](_0x196d4e(0x246)),_0x74a8d[_0x196d4e(0x1de)]===_0x1a6838&&(_0x1a6838['style'][_0x196d4e(0x2bf)]=_0x196d4e(0x2a9)),_0x74a8d[_0x196d4e(0x1de)]===_0xbd2a83&&(_0xbd2a83[_0x196d4e(0x27b)][_0x196d4e(0x2bf)]=_0x196d4e(0x2a9)),_0x74a8d['target']===_0x445610&&(_0x445610[_0x196d4e(0x27b)][_0x196d4e(0x2bf)]=_0x196d4e(0x2a9),document[_0x196d4e(0x1e4)][_0x196d4e(0x271)][_0x196d4e(0x2c7)]('modal-open'));}),_0x3a48b8[_0x428794(0x28d)](_0x428794(0x1ff),function(_0x5870e0){const _0xaa6c5d=_0x428794;_0x5870e0[_0xaa6c5d(0x204)](),_0x4c04f3();});const _0x2ccd83=localStorage[_0x428794(0x2a8)](_0x428794(0x208));_0x2ccd83&&(_0x3797e9[_0x428794(0x217)]=_0x2ccd83);_0x3797e9[_0x428794(0x28d)](_0x428794(0x212),function(){const _0x4a02cc=_0x428794;localStorage[_0x4a02cc(0x289)]('apiKey',this[_0x4a02cc(0x217)]);});const _0x40b533=localStorage['getItem'](_0x428794(0x214));_0x40b533&&(_0x25fc1d[_0x428794(0x217)]=_0x40b533);_0x25fc1d[_0x428794(0x28d)]('change',function(){const _0x66def4=_0x428794;localStorage[_0x66def4(0x289)](_0x66def4(0x214),this['value']);}),_0x454a20[_0x428794(0x28d)](_0x428794(0x229),function(){const _0x5c3ef1=_0x428794;_0x3e3516[_0x5c3ef1(0x2a4)]=this[_0x5c3ef1(0x217)];}),_0x4da73f[_0x428794(0x28d)](_0x428794(0x229),function(){const _0x3e2c65=_0x428794;_0x2eb52d['textContent']=this[_0x3e2c65(0x217)];}),_0x40f75a[_0x428794(0x28d)](_0x428794(0x229),function(){const _0x28ebf4=_0x428794;_0x1a9102[_0x28ebf4(0x2a4)]=this[_0x28ebf4(0x217)];}),_0x187efa['addEventListener'](_0x428794(0x229),function(){const _0x43b248=_0x428794;_0x2a9177[_0x43b248(0x2a4)]=this[_0x43b248(0x217)];}),_0x17bc2d['addEventListener'](_0x428794(0x252),()=>{const _0x1f17a5=_0x428794;localStorage[_0x1f17a5(0x289)]('maxToken',_0x25fc1d[_0x1f17a5(0x217)]),localStorage[_0x1f17a5(0x289)](_0x1f17a5(0x231),_0x454a20[_0x1f17a5(0x217)]),localStorage[_0x1f17a5(0x289)](_0x1f17a5(0x2ad),_0x4da73f[_0x1f17a5(0x217)]),localStorage[_0x1f17a5(0x289)]('frequencyPenalty',_0x40f75a[_0x1f17a5(0x217)]),localStorage['setItem'](_0x1f17a5(0x20e),_0x187efa['value']),localStorage[_0x1f17a5(0x289)](_0x1f17a5(0x23a),_0x50ed49[_0x1f17a5(0x217)]),localStorage[_0x1f17a5(0x289)](_0x1f17a5(0x248),_0x5b685d[_0x1f17a5(0x217)]),localStorage[_0x1f17a5(0x289)]('customImpersonateInstructions',_0x2de589['value']),_0xbd2a83[_0x1f17a5(0x27b)][_0x1f17a5(0x2bf)]=_0x1f17a5(0x2a9),document[_0x1f17a5(0x1e4)][_0x1f17a5(0x271)][_0x1f17a5(0x2c7)](_0x1f17a5(0x250));});const _0x58ed59=localStorage[_0x428794(0x2a8)]('temperature');_0x58ed59&&(_0x454a20[_0x428794(0x217)]=_0x58ed59,_0x3e3516['textContent']=_0x58ed59);const _0x14a205=localStorage['getItem'](_0x428794(0x2ad));_0x14a205&&(_0x4da73f[_0x428794(0x217)]=_0x14a205,_0x2eb52d[_0x428794(0x2a4)]=_0x14a205);const _0x48feb2=localStorage['getItem'](_0x428794(0x233));_0x48feb2&&(_0x40f75a[_0x428794(0x217)]=_0x48feb2,_0x1a9102['textContent']=_0x48feb2);const _0x8526e9=localStorage[_0x428794(0x2a8)]('topP');_0x8526e9&&(_0x187efa[_0x428794(0x217)]=_0x8526e9,_0x2a9177['textContent']=_0x8526e9);const _0x56b59a=localStorage['getItem'](_0x428794(0x23a));_0x56b59a&&(_0x50ed49[_0x428794(0x217)]=_0x56b59a);const _0x233d12=localStorage[_0x428794(0x2a8)](_0x428794(0x248));_0x233d12&&(_0x5b685d[_0x428794(0x217)]=_0x233d12);const _0x11587f=localStorage[_0x428794(0x2a8)](_0x428794(0x2a2));_0x11587f&&(_0x2de589[_0x428794(0x217)]=_0x11587f),await _0x4e21af(),await _0x4c55be(),window[_0x428794(0x28d)]('beforeunload',_0x8a54b);})());});const style=document[_0x409b64(0x222)](_0x409b64(0x27b));style['innerHTML']=_0x409b64(0x234),document[_0x409b64(0x294)][_0x409b64(0x2ac)](style);function _0x5c7e(){const _0x2ee497=['\x20as\x20JSON:','apiKeySettingButton','contains','character_ai_db','getElementById','100%','819cZIEth','modal-open','frequencyPenaltyInput','click','Failed\x20to\x20generate\x20impersonated\x20response\x20due\x20to\x20PROHIBITED_CONTENT\x20output','{{user}}','Enter','onload','editIndex','character_images','readwrite','length','images','{{char}}','inline-block','Failed\x20to\x20get\x20charachter\x20from\x20DB','inline','lorebooks','className','save-button','accept','focus','block','message','1835096pVZCjz','div','fixed','foto','settingsDropdown','string','some','height','.close-modal','messageInput','classList','Failed\x20to\x20generate\x20response,\x20check\x20console','location','https://placehold.co/50x50/grey/white?text=','user','editName','img','220311QKkCOo','model','width','style','scrollHeight','replace','stringify','key','onerror','flex','826924kKRZFC','chatProfilePic','Generating...','true','characterId','removeItem','querySelector','setItem','User','reset','maxWidth','addEventListener','HARM_CATEGORY_HARASSMENT','characters','center','scrollTop','apiKeyModal','parse','head','OFF','trim','389986qAIbBY','onupgradeneeded','backgroundColor','alignItems','file','bot','getGenerativeModel','uploadBadge','chat-history-','span','objectStore','customImpersonateInstructions','\x20and\x20engage\x20in\x20Roleplay\x20with\x20{{user}}.\x20\x20','textContent','Cancel','editScenario','[Write\x20your\x20next\x20reply\x20from\x20the\x20point\x20of\x20view\x20of\x20{{user}},\x20using\x20the\x20chat\x20history\x20so\x20far\x20as\x20a\x20guideline\x20for\x20the\x20writing\x20style\x20of\x20{{user}}.\x20Write\x201\x20reply\x20only\x20in\x20internet\x20RP\x20style,\x20italicize\x20actions,\x20and\x20avoid\x20quotation\x20marks.\x20Use\x20markdown.\x20Don\x27t\x20write\x20as\x20{{char}}\x20or\x20system.\x20Don\x27t\x20describe\x20actions\x20of\x20{{char}}.\x20]','getItem','none','split','text','appendChild','presencePenalty','then','push','50EczUYX','indexOf','left','photo','toISOString','scenario','image/*','maxHeight','IndexedDB\x20database\x20opened\x20successfully','sendMessage','uploadButton','\x20\x0a\x20','chatName','querySelectorAll','characterEditorButton','display','files','generationSettingButton','Error\x20parsing\x20file,\x20make\x20sure\x20it\x27s\x20valid\x20json\x20file','.json','revokeObjectURL','90%','warn','remove','createObjectURL','search','Error\x20generating\x20content:','generationConfig','editPersonality','readAsText','createObjectStore','errorCode','Failed\x20to\x20open\x20IndexedDB\x20database','role','src','target','data','generateContentStream','temperatureInput','personality','forEach','body','loadChatButton','editProfilePic','maxTokenInput','random','presencePenaltyValue','pop','maxOutputTokens','transaction','download','profilePic','put','200px','application/json','sender','bot-message','editGreeting','picture','IndexedDB\x20Error:\x20','onchange','editCharacterModal','error','innerHeight','IndexedDB\x20database\x20created\x20successfully','Please\x20enter\x20API\x20key\x20first\x20then\x20refresh\x20the\x20page','stream','5xzzHKf','submit','calc(100vh\x20-\x20100px)','isArray','innerHTML','generationModal','preventDefault','regenerateButton','log','reload','apiKey','Typing...','mimeType','ImpersonateButton','open','topPInput','topP','onsuccess','success','image','change','add','maxToken','2718rDzDPX','user-message','value','Please\x20enter\x20API\x20key\x20to\x20continue','type','topKInput','get','lastChild','gemini-2.0-flash','removeChild','imagePreviewModal','<br>','frequencyPenaltyValue','createElement','children','href','position','result','2782016pgTwHw','3861414XQMgkq','input','resize','.edit-button','temperatureValue','messageArea','color','keydown','roleplay','temperature','floor','frequencyPenalty','.bot-message\x20{\x20position:\x20relative;\x20/*\x20Added\x20this\x20line\x20*/\x20}\x20.edit-button\x20{\x20position:\x20absolute;\x20top:\x205px;\x20right:\x205px;\x20cursor:\x20pointer;\x20font-size:\x200.8em;\x20color:\x20#888;\x20}\x20.edit-button:hover\x20{\x20color:\x20#333;\x20}\x20.bot-message\x20>\x20div[contenteditable=\x22true\x22]\x20{\x20background-color:\x20#f0f0f0;\x20border:\x201px\x20solid\x20#ccc;\x20padding:\x205px;\x20outline:\x20none;\x20white-space:\x20pre-wrap;\x20/*\x20Important:\x20Preserve\x20new\x20lines\x20*/\x20}\x20.save-button,\x20.cancel-button\x20{\x20margin-left:\x205px;\x20padding:\x205px\x2010px;\x20cursor:\x20pointer;\x20background-color:\x20#4CAF50;\x20color:\x20white;\x20border:\x20none;\x20border-radius:\x204px;\x20}\x20.cancel-button\x20{\x20background-color:\x20#f44336;\x20}','\x0aLorebook\x20','<strong\x20style=\x22color:black;\x22>$1</strong>','&#9998;','toggle','Could\x20not\x20parse\x20','topK','HARM_CATEGORY_DANGEROUS_CONTENT','#888','button','presencePenaltyInput','greeting','name','readonly','Chat\x20model\x20is\x20not\x20ready,\x20please\x20wait','contentEditable','Error\x20reading\x20file\x20','false','show','chat_history_','customInstructions'];_0x5c7e=function(){return _0x2ee497;};return _0x5c7e();}